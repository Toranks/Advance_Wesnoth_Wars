#textdomain aww
#### SETTERS
# Author Corvo
# Original Creation

#define AWW_SET_PROMOTED_LEADER
    # used in: 03_promoted_leader.cfg
    # To use in [modify_unit]
    name=_"Chief"+" "+$this_unit.name
    canrecruit=yes
    [variables]
        aww_promoted_leader=1
    [/variables]
    [object]
        id=aww_promoted_icon_overlay
        [effect]
            apply_to=overlay
            add="misc/aww-leader-crown-bronze.png"
        [/effect]
    [/object]
#enddef

#define AWW_SET_PROMOTED_LOYAL
    # used in: 03_promoted_leader.cfg
    # To use in [modify_unit]
    name=_"Chief"+" "+$this_unit.name
    canrecruit=yes
    [variables]
        aww_promoted_leader=1
    [/variables]
    [object]
        id=aww_loyal_icon_overlay
        [effect]
            apply_to=overlay
            add="misc/promoted-loyal-icon.png"
        [/effect]
    [/object]
#enddef

# to use in [modify_unit]
# used in: 10_gifted_leader_hero.cfg
#define AWW_SET_GIFTED_REG

    {AWW_OBJECT_EPIC_REG}

    [variables]
        aww_gifted=1
    [/variables]
#enddef

#define AWW_SET_GIFTED_DIST


    {AWW_OBJECT_EPIC_DIST}

    [variables]
        aww_gifted=1
    [/variables]
#enddef

#define AWW_SET_GIFTED_NO_OBJECT
    #name=_"Gifted"+" "+$this_unit.name
    {AWW_TRAIT_GIFTED}

    # refull heal to compensate increased HP at the trait assignment:
    [effect]
        apply_to=hitpoints
        heal_full=yes
    [/effect]
    [variables]
        aww_gifted=1
    [/variables]
#enddef

# to use in [modify_unit]
# used in: 11_ninja.cfg
#define AWW_SET_NINJA
    #name=_"Ninja"+" "+$this_unit.name
    {AWW_TRAIT_NINJA}
    {AWW_OBJECT_NINJA}
    [variables]
        aww_ninja=1
    [/variables]
#enddef

# to use in [modify_unit]
# used in: 02_combats_swarm.ma.cfg
#define AWW_SET_SQUAD_SWARM
    #name=_"Squad"+" "+$this_unit.name
    {AWW_ATTACK_EFFECT_SQUAD_SWARM}
    [variables]
        aww_squad_swarm=1
    [/variables]
#enddef

# to use in [modify_unit]
# used in mods/13_fix_ambushed.cfg
#define AWW_SET_HAS_AMBUSHED
    [filter_wml]
        [variables]
            aww_has_ambushed=1
        [/variables]
    [/filter_wml]
#enddef

# WAS used in mods/13_fix_ambushed.cfg
# to use in [modify_unit]
#define AWW_IS_AMBUSHED
    [variables]
        aww_ambushed=1
    [/variables]
#enddef

########### UPDATERS ###########

### add extra recruit list from original leader(s), for being used in unity events:
#define AWW_UPDATE_PROMOTED_LEADER_RECRUIT_LIST
    [store_unit]
        variable=original_leaders
        [filter]
            canrecruit=yes
            side=$unit.side
            [not]
                {AWW_FILTER_PROMOTED_LEADER_ISSET}
            [/not]
        [/filter]
    [/store_unit]
	[foreach]
	array=original_leaders
        # TODO find a way to merge recruits if many origin leaders.
        [set_extra_recruit]
            {AWW_EVENT_UNIT}
            extra_recruit=$this_unit.extra_recruit
        [/set_extra_recruit]
	[/foreach]
    {CLEAR_VARIABLE original_leaders}
#enddef

## to be used in a unit-related event
# used in 12_fix_berserk.cfg
# will only apply to berserk weapons
# see AWW_FILTER_HAS_BERSERK_ATTACK as event filter
#define AWW_UPDATE_FURY_RATIO UNIT_ID RATIO
    [modify_unit]
        [filter]
            id={UNIT_ID}
        [/filter]
        # name="U"+{RATIO}+"/"+$this_unit.name
        {AWW_ATTACK_EFFECT_REPLACE_FURY_RATIO {RATIO}}
    [/modify_unit]
#enddef

# to be used in a [modify_unit]
# used in 12_tweak_berserk.cfg
# TODO understand why moves not taken in account, even with just =1. I guess attack_end event change it after.
#define AWW_INC_FURY_KILLS_AND_REATTACK KILLS
    attacks_left=$this_unit.attack_left +1
    #moves=1
    [variables]
        aww_fury_kills={KILLS}
    [/variables]
#enddef


#To show different variables on help menu

#define AWW_NO_RANDOM STATUS DAMAGE
    [message]
        speaker=narrator
        message="<b>"+_"No Random Combats"+" → "+"</b>"+_"Attacks will never randomly miss, misses probabilities is instead used as damage reduction."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{STATUS}"+"</span></b>"+"

"+"<b>"+_"No Random Combats"+_" : Adjusted Damage %"+" → "+"</b>"+_"To increase/reduce terrain/fixed Hit probabilities, converted in damages. Only applies for 'No Random Combats'."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{DAMAGE}</span></b>"
        side_for=$side_number
        image="misc/awwicon.png"
        [option]
			label=_"Change status of Non Random Combats"
            [command]
				[message]
                    speaker=narrator
					message=_"Set status of Non Random Combats."
					[option]
						label="<i>"+_"Activate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_01(1)
								>>
							[/lua]
						[/command]
					[/option]
					[option]
						label="<i>"+_"Deactivate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_01(0)
								>>
							[/lua]
						[/command]
					[/option]					
					[option]
						label=_"Back to help menu"
						default=yes
						[command]
							[fire_event]
								name=aww_help_menu
							[/fire_event]
						[/command]
					[/option]		
					[option]
						label=_"Exit"
						[command]
						[/command]
					[/option]						
                [/message]
            [/command]
		[/option]		
        [option]
			label=_"Change damage adjustment"
            [command]
				[message]
                    speaker=narrator
					message=_"Set damage adjustment."
					[text_input]
					label=_"Min"+" -99 / "+_"Max"+" 999"
					variable=aww_08_randomless_damage_adjustment
					max_length=3
					text=$aww_08_randomless_damage_adjustment
					[/text_input]
					[option]
						label= "<i>"+_"Set"+"</i>"
					[/option]
                [/message]
            [/command]
		[/option]		
        [option]
			label=_"Back to help menu"
			default=yes
            [command]
                [fire_event]
                    name=aww_help_menu
                [/fire_event]
            [/command]
		[/option]		
        [option]
			label=_"Exit"
            [command]
            [/command]
		[/option]	
    [/message]
#enddef

#define AWW_SQUAD MODE
    [message]
        speaker=narrator
        message="<b>"+_"Squad Mode"+" → "+"</b>"+_"Units do proportionally less attack strikes with less HP (or less damage for single-strike attacks). Swarm is a worse ratio (-1 strike if you miss just 1 HP) than native, but taken in account by AI. In both cases : "+"

- "+ _"The number of strikes is proportional to the percentage of its of maximum HP the unit has. For example a unit with 3/4 of its maximum HP will get 3/4 of the number of strikes."+"
- "+ _"Minimum strikes will be 1."+"
- "+ _"For attack having only 1 base strike, HP ratio will be used to reduce damage."+"
- "+ _"Excluded for berserk & fury attack. To simulate that the lesser they are, the more furious they go."+"

"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{MODE}</span></b>"+"       "_" (0 = No, 1 = Squad, 2 = Swarm)"
        side_for=$side_number
        image="misc/awwicon.png"
        [option]
			label=_"Change status of Squad Mode"
            [command]
				[message]
                    speaker=narrator
					message=_"Set status of Squad Mode."
					[option]
						label="<i>"+_"Squad"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_02(1)
								>>
							[/lua]
						[/command]
					[/option]
					[option]
						label="<i>"+_"Swarm"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_02(2)
								>>
							[/lua]
						[/command]
					[/option]
					[option]
						label="<i>"+_"Deactivate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_02(0)
								>>
							[/lua]
						[/command]
					[/option]	
					[option]
						label=_"Back to help menu"
						default=yes
						[command]
							[fire_event]
								name=aww_help_menu
							[/fire_event]
						[/command]
					[/option]		
					[option]
						label=_"Exit"
						[command]
						[/command]
					[/option]						
                [/message]
            [/command]
		[/option]		
		[option]
			label=_"Back to help menu"
			default=yes
			[command]
				[fire_event]
					name=aww_help_menu
				[/fire_event]
			[/command]
		[/option]
		[option]
			label=_"Exit"
			[command]
			[/command]
		[/option]		
    [/message]
#enddef

#define AWW_VILLAGES STATUS DISTANCE
    [message]
        speaker=narrator
        message="<b>"+_"Villages line of sight"+" → "+"</b>"+_"All villages have a line of sight belonging to the owner side."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{STATUS}"+"</span></b>"+"

"+"<b>"+_"Villages line of sight range"+" → "+"</b>"+_"Set the range of villages line of sight. Only applies with 'Villages line of sight' active."+" "+_"0 means the side can only see the village hexagon itself."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{DISTANCE}"+"</span></b>"
        side_for=$side_number
        image="misc/awwicon.png"
        [option]
			label=_"Change status of Villages line of sight"
            [command]
				[message]
                    speaker=narrator
					message=_"Set status of Villages line of sight."
					[option]
						label= "<i>"+_"Activate"+"</i>"
						[command]
							[set_variable]
								name=aww_16_villages_has_sight
								value=yes
							[/set_variable]								
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Deactivate"+"</i>"
						[command]
							[set_variable]
								name=aww_16_villages_has_sight
								value=no
							[/set_variable]		
						[/command]
					[/option] 
					[option]
						label=_"Back to help menu"
						default=yes
						[command]
							[fire_event]
								name=aww_help_menu
							[/fire_event]
						[/command]
					[/option]
					[option]
						label=_"Exit"
						[command]
						[/command]
					[/option]						
                [/message]
            [/command]
		[/option]	
        [option]
			label=_"Change range of villages line of sight"
            [command]
				[message]
                    speaker=narrator
					message=_"Set range of villages line of sight."
					[text_input]
					label=_"Max"+" 99"
					variable=aww_villages_sight_distance
					max_length=2
					text=$aww_villages_sight_distance
					[/text_input]
					[option]
						label= "<i>"+_"Set"+"</i>"
					[/option]
                [/message]
            [/command]
		[/option]
        [option]
			label=_"Back to help menu"
			default=yes
            [command]
                [fire_event]
                    name=aww_help_menu
                [/fire_event]
            [/command]
		[/option]		
        [option]
			label=_"Exit"
            [command]
            [/command]
		[/option]			
    [/message]
#enddef

#define AWW_RELATIVE STATUS
    [message]
        speaker=narrator
        message="<b>"+_"Level-Up : Relative Healing"+" → "+"</b>"+_"When an unit advances a level raising his Max HP, instead of a full healing and being cured, it keep the missing HP, but statuses are cured."+"

"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{STATUS}"+"</span></b>"
        side_for=$side_number
        image="misc/awwicon.png"
        [option]
			label=_"Change status of Relative Healing"
            [command]
				[message]
                    speaker=narrator
					message=_"Set status of Relative Healing."
					[option]
						label= "<i>"+_"Activate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_06(1)
								>>
							[/lua]								
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Deactivate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_06(0)
								>>
							[/lua]		
						[/command]
					[/option] 
					[option]
						label=_"Back to help menu"
						default=yes
						[command]
							[fire_event]
								name=aww_help_menu
							[/fire_event]
						[/command]
					[/option]
					[option]
						label=_"Exit"
						[command]
						[/command]
					[/option]	
                [/message]
            [/command]
		[/option]		
        [option]
			label=_"Back to help menu"
			default=yes
            [command]
                [fire_event]
                    name=aww_help_menu
                [/fire_event]
            [/command]
		[/option]		
        [option]
			label=_"Exit"
            [command]
            [/command]
		[/option]	
    [/message]
#enddef

#define AWW_NOTIFICATION STATUS
    [message]
        speaker=narrator
        message="<b>"+_"Level-Up : Floating Notification"+" → "+"</b>"+_"Floating text on the unit currently leveling-up. Can be helpful to know which unit is concerned by an advancement. Will display only if no other AWW mods wants to display something at this moment."+"

"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{STATUS}"+"</span></b>"
        side_for=$side_number
        image="misc/awwicon.png"
        [option]
			label=_"Change status of Floating Notification"
            [command]
				[message]
                    speaker=narrator
					message=_"Set status of Floating Notification."
					[option]
						label= "<i>"+_"Activate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_14(1)
								>>
							[/lua]								
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Deactivate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_14(0)
								>>
							[/lua]		
						[/command]
					[/option] 
					[option]
						label=_"Back to help menu"
						default=yes
						[command]
							[fire_event]
								name=aww_help_menu
							[/fire_event]
						[/command]
					[/option]
					[option]
						label=_"Exit"
						[command]
						[/command]
					[/option]						
                [/message]
            [/command]
		[/option]	
        [option]
			label=_"Back to help menu"
			default=yes
            [command]
                [fire_event]
                    name=aww_help_menu
                [/fire_event]
            [/command]
		[/option]		
        [option]
			label=_"Exit"
            [command]
            [/command]
		[/option]			
    [/message]
#enddef

#define AWW_LEVEL STATUS
    [message]
        speaker=narrator
        message="<b>"+_"Level-Up After Max Level Advancement : "+_"Increase Level Number"+" → "+"</b>"+_"The unit level will continue growing with the AMLA level-ups."+"

"+_"This affect to some abilities as leadership, upkeep cost, and experience the enemies get fighting or killing the unit."+"

"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{STATUS}"+"</span></b>"
        side_for=$side_number
        image="misc/awwicon.png"
        [option]
			label=_"Change status of Increase Level Number"
            [command]
				[message]
                    speaker=narrator
					message=_"Set status of Increase Level Number."+_"
<b>Instructions</b>:
<i>Stop</i> will stop the level increase, but will keep the levels gained.
<i>Deactivate</i> will reset the level of all units to their base level, restore leadership and inspire abilities to default, and cannot be undone. No other stats or abilities will change."
					[option]
						label= "<i>"+_"Activate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_15(1)
								>>
							[/lua]
							[fire_event]
								name=aww_15_reload_leadership
							[/fire_event]
							[fire_event]
								name=aww_15_restore_level
							[/fire_event]
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Stop"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_15(0)
								>>
							[/lua]
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Deactivate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_15(0)
								>>
							[/lua]	
							[aww_remove_object]
								object_id=aww_15_amla_level
							[/aww_remove_object]
							[aww_remove_object]
								object_id=aww_leadership_object
							[/aww_remove_object]
						[/command]
					[/option] 
					[option]
						label=_"Back to help menu"
						default=yes
						[command]
							[fire_event]
								name=aww_help_menu
							[/fire_event]
						[/command]
					[/option]
					[option]
						label=_"Exit"
						[command]
						[/command]
					[/option]						
                [/message]
            [/command]
		[/option]	
        [option]
			label=_"Back to help menu"
			default=yes
            [command]
                [fire_event]
                    name=aww_help_menu
                [/fire_event]
            [/command]
		[/option]		
        [option]
			label=_"Exit"
            [command]
            [/command]
		[/option]					
    [/message]
#enddef

#define AWW_BONUS STATUS
    [message]
        speaker=narrator
        message="<b>"+_"Level-Up After Max Level Advancement : Random Bonuses"+" → "+"</b>"+_"Units reaching AMLA level-ups can gain an a random ability or increased stat each level."+"

"+_"To identify them, they will have a bronze bracelet icon."+"

"+_"Possible Bonuses: Melee damage +3, Melee strikes +1, Ranged damage +2, Ranged strikes +1, Movement points +1, First strike, Poison (blade and piercing), Leadership (lvl 3 minimum, lvl 5 minimum with AMLA Increase Level Number), Distract (negates ZOC around the unit for allies), Regenerates (+4 HP and slow poison), Adrenaline (+4 HP every hit), Loyal or Fearless."+"

"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{STATUS}"+"</span></b>"
        side_for=$side_number
        image="misc/awwicon.png"
        [option]
			label=_"Change status of Random Bonuses"
            [command]
				[message]
                    speaker=narrator
					message=_"Set status of Random Bonuses."+_"
<b>Instructions</b>:
<i>Stop</i> will stop the granting of more bonuses, but will keep the bonuses obtained.
<i>Deactivate</i> will also remove all bonuses obtained, and cannot be undone. No other stats or abilities will change."
					[option]
						label= "<i>"+_"Activate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_09(1)
								>>
							[/lua]
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Stop"+"</i>"
						[command]
							[set_variable]
								name=aww_09_enable_amla_bonus
								value=no
							[/set_variable]								
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Deactivate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_09(0)
								>>
							[/lua]
						[/command]
					[/option] 
					[option]
						label=_"Back to help menu"
						default=yes
						[command]
							[fire_event]
								name=aww_help_menu
							[/fire_event]
						[/command]
					[/option]
					[option]
						label=_"Exit"
						[command]
						[/command]
					[/option]						
                [/message]
            [/command]
		[/option]	
		[option]
			label=_"Back to help menu"
			default=yes
			[command]
				[fire_event]
					name=aww_help_menu
				[/fire_event]
			[/command]
		[/option]
		[option]
			label=_"Exit"
			[command]
			[/command]
		[/option]		
    [/message]
#enddef

#define AWW_LEADERSHIP LEVEL
    [message]
        speaker=narrator
        message="<b>"+_"Leadership/Inspire max level"+" → "+"</b>"+_"Set the maximum level that will be considered to apply the bonus. Units with this level or higher can't be lead but will be able to lead as if they were of that level. With 'inspire' units with higher level cannot be inspired, but units of the same level can. To standard units this only applies if Increase Level Number is active, but applies to all units who receives an AMLA Bonus."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{LEVEL}"+"</span></b>"
        side_for=$side_number
        image="misc/awwicon.png"
        [option]
			label=_"Change maximum level of Leadership/Inspire"
            [command]
				[message]
                    speaker=narrator
					message=_"Set maximum level of Leadership/Inspire."+"
This resets the max level to all units with leadership or inspire abilities, included leadership from AMLA Bonus."
					[text_input]
					label=_"Max"+" 99"
					variable=aww_leadership_level
					max_length=2
					text=$aww_leadership_level
					[/text_input]
					[option]
						label= "<i>"+_"Set"+"</i>"
						[command]
							[fire_event]
								name=aww_15_reload_leadership
							[/fire_event]
						[/command]
					[/option]
                [/message]
            [/command]
		[/option]	
		[option]
			label=_"Back to help menu"
			default=yes
			[command]
				[fire_event]
					name=aww_help_menu
				[/fire_event]
			[/command]
		[/option]
		[option]
			label=_"Exit"
			[command]
			[/command]
		[/option]		
    [/message]
#enddef

#define AWW_PROMOTED_LEVEL STATUS NUMBER
    [message]
        speaker=narrator
        message="<b>"+_"Level-Up After Max Level Advancement : Promoted Leaders"+" → "+"</b>"+_"Standard units reaching their first AMLA level-up will be able to recruit the same units as the original leader, recall, and be prefixed 'Chief' with a bronze crown icon. Excluded for special Heroes."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{STATUS}"+"</span></b>"+"

"+"<b>"+_"Promoted Leaders : Mininum level"+" → "+"</b>"+_"Set the minimum level to be promoted to Chief. Only units with this level or higher on their first AMLA will be promoted."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{NUMBER}"+"</span></b>"
        side_for=$side_number
        image="misc/awwicon.png"
        [option]
			label=_"Change status of Promoted Leaders"
            [command]
				[message]
                    speaker=narrator
					message=_"Set status of Promoted Leaders."+_"
<b>Instructions</b>:
<i>Activate</i> will allow new Promoted Leaders, but will not change existing ones.
<i>Restore</i> will activate Promoted Leaders and will restore the promotion on all units that previously lost them via <i>Deactivate</i>.
<i>Stop</i> will stop new units from acquiring the promotion, but will keep the promotions gained.
<i>Deactivate</i> will remove the promotion to all units. No other stats or abilities will change."
					[option]
						label= "<i>"+_"Activate"+"</i>"
						[command]
							[set_variable]
								name=aww_03_enable_promoted_leader
								value=yes
							[/set_variable]		
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Restore"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_03(1)
								>>
							[/lua]						
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Stop"+"</i>"
						[command]
							[set_variable]
								name=aww_03_enable_promoted_leader
								value=no
							[/set_variable]		
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Deactivate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_03(0)
								>>
							[/lua]	
						[/command]
					[/option] 
					[option]
						label=_"Back to help menu"
						default=yes
						[command]
							[fire_event]
								name=aww_help_menu
							[/fire_event]
						[/command]
					[/option]
					[option]
						label=_"Exit"
						[command]
						[/command]
					[/option]						
                [/message]
            [/command]
		[/option]
        [option]
			label=_"Change minimum level to be promoted to Chief"
            [command]
				[message]
                    speaker=narrator
					message=_"Set minimum level to be promoted to Chief."
					[text_input]
					label=_"Max"+" 99"
					variable=aww_03_level_promoted_leader
					max_length=2
					text=$aww_03_level_promoted_leader
					[/text_input]
					[option]
						label= "<i>"+_"Set"+"</i>"
					[/option]
                [/message]
            [/command]
		[/option]		
        [option]
			label=_"Back to help menu"
			default=yes
            [command]
                [fire_event]
                    name=aww_help_menu
                [/fire_event]
            [/command]
		[/option]		
        [option]
			label=_"Exit"
            [command]
            [/command]
		[/option]	
    [/message]
#enddef

#define AWW_EPIC STATUS STATUS2
    [message]
        speaker=narrator
        message="<b>"+_"Epic Heroes"+" → "+"</b>"+_"The Leaders and Heroes (gold & silver crowns) gain an increase of 20% of their attributes, making them harder to kill. Excluded for Promoted Leaders."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{STATUS}"+"</span></b>"+"

"+"<b>"+_"Epic Heroes"+" : "+_"Regeneration and distraction"+" → "+"</b>"+_"Epic Heroes also acquires regeneration and distraction abilities by default. Only applies if Epic Heroes is active."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{STATUS2}"+"</span></b>"
        side_for=$side_number
        image="misc/awwicon.png"

		[option]
			label=_"Change status of Epic Heroes"
			[command]
				[message]
					speaker=narrator
					message=_"Set status of Epic Heroes."+_"
<b>Instructions</b>:
<i>Activate</i> will allow new Epic Heroes to spawn, but will not change existing ones.
<i>Restore</i> will activate Epic Heroes and will grant or restore the Epic trait on all units that apply to them.
<i>Stop</i> will stop the apparition of more Epic Heroes, but will keep the existing ones.
<i>Deactivate</i> will also remove all Epic traits obtained. No other stats or abilities will change."
					[option]
						label= "<i>"+_"Activate"+"</i>"
						[command]
							[set_variable]
								name=aww_10_enable_gifted_leaders
								value=yes
							[/set_variable]								
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Restore"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_10(1)
								>>
							[/lua]
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Stop"+"</i>"
						[command]
							[set_variable]
								name=aww_10_enable_gifted_leaders
								value=no
							[/set_variable]								
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Deactivate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_10(0)
								>>
							[/lua]							
						[/command]
					[/option] 
					[option]
						label=_"Back to help menu"
						default=yes
						[command]
							[fire_event]
								name=aww_help_menu
							[/fire_event]
						[/command]
					[/option]
					[option]
						label=_"Exit"
						[command]
						[/command]
					[/option]						
				[/message]
			[/command]
		[/option]
	   [option]
			label=_"Change status of regeneration and distraction for Epic Heroes"
			[command]
				[message]
					speaker=narrator
					message=_"Set status of regeneration and distraction for Epic Heroes."+_"
<b>Instructions</b>:
<i>Activate</i> will allow new Epic Heroes to obtain regeneration and distraction, but will not change existing ones.
<i>Restore</i> will also grant regeneration and distraction to Epic Heroes who don't already have them.
<i>Stop</i> will stop the granting of these abilities to new Epic Heroes, but will keep the existing ones.
<i>Deactivate</i> will also remove regeneration and distraction abilities granted by this feature, but not if it was granted by other feature. No other stats or abilities will change."
					[option]
						label= "<i>"+_"Activate"+"</i>"
						[command]
							[set_variable]
								name=aww_epic_object_opt
								value=yes
							[/set_variable]								
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Restore"+"</i>"
						[command]
							[set_variable]
								name=aww_epic_object_opt
								value=yes
							[/set_variable]								
							[fire_event]
								name=aww_event_10_enable_opt
							[/fire_event]
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Stop"+"</i>"
						[command]
							[set_variable]
								name=aww_epic_object_opt
								value=no
							[/set_variable]								
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Deactivate"+"</i>"
						[command]
							[set_variable]
								name=aww_epic_object_opt
								value=no
							[/set_variable]
							[aww_remove_object]
								object_id=aww_epic_object_reg
							[/aww_remove_object]

							[aww_remove_object]
								object_id=aww_epic_object_dist
							[/aww_remove_object]			
						[/command]
					[/option] 
					[option]
						label=_"Back to help menu"
						default=yes
						[command]
							[fire_event]
								name=aww_help_menu
							[/fire_event]
						[/command]
					[/option]
					[option]
						label=_"Exit"
						[command]
						[/command]
					[/option]						
				[/message]
			[/command]
		[/option]			       
		[option]
			label=_"Back to help menu"
			default=yes
			[command]
				[fire_event]
					name=aww_help_menu
				[/fire_event]
			[/command]
		[/option]
		[option]
			label=_"Exit"
			[command]
			[/command]
		[/option]		
    [/message]
#enddef

#define AWW_LEARNING_BATTLE HUMAN AI
    [message]
        speaker=narrator
        message="<b>"+_"Learning from the battlefield (Passive XP for players)"+" → "+"</b>"+_"Extra XP for all human player units each turn."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>["+"{HUMAN}"+_"/turn]"+"</span></b>"+"

"+"<b>"+_"Learning from the battlefield (Passive XP for AI)"+" → "+"</b>"+_"Extra XP for all AI units each turn.
You can activate or deactivate (with 0) Passive XP for AI regardless of the value you choose for human players. I recommend choosing twice the value chosen for human players."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>["+"{AI}"+_"/turn AI]"+"</span></b>"
        side_for=$side_number
        image="misc/awwicon.png"
        [option]
			label=_"Change experience points for human players"
            [command]
				[message]
                    speaker=narrator
					message=_"Set experience points per turn for human players."
					[text_input]
					label=_"Max"+" 99"
					variable=aww_04_passive_xp
					max_length=2
					text=$aww_04_passive_xp
					[/text_input]
					[option]
						label= "<i>"+_"Set"+"</i>"
					[/option]
                [/message]
            [/command]
		[/option]
        [option]
			label=_"Change experience points for AI sides"
            [command]
				[message]
                    speaker=narrator
					message=_"Set experience points per turn for AI sides."
					[text_input]
					label=_"Max"+" 99"
					variable=aww_04_passive_xp_ai
					max_length=2
					text=$aww_04_passive_xp_ai
					[/text_input]
					[option]
						label= "<i>"+_"Set"+"</i>"
					[/option]
                [/message]
            [/command]
		[/option]		
        [option]
			label=_"Back to help menu"
			default=yes
            [command]
                [fire_event]
                    name=aww_help_menu
                [/fire_event]
            [/command]
		[/option]		
        [option]
			label=_"Exit"
            [command]
            [/command]
		[/option]			
    [/message]
#enddef

#define AWW_LEARNING_HEAL NUMBER
    [message]
        speaker=narrator
        message="<b>"+_"Learning from healing (Max XP/turn for Healing)"+" → "+"</b>"+_"Each turn, Healers will earn 1 XP for each adjacent wounded or poisoned ally, but you can limit the max/turn. 0 will disable the feature."+"

"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{NUMBER}"+"</span></b>"
        side_for=$side_number
        image="misc/awwicon.png"
        [option]
			label=_"Change maximum experience points per turn healing units"
            [command]
				[message]
                    speaker=narrator
					message=_"Set maximum experience points per turn healing units."
					[text_input]
					label=_"Max"+" 9"
					variable=aww_05_healing_xp
					max_length=1
					text=$aww_05_healing_xp
					[/text_input]
					[option]
						label= "<i>"+_"Set"+"</i>"
					[/option]
                [/message]
            [/command]
		[/option]		
        [option]
			label=_"Back to help menu"
			default=yes
            [command]
                [fire_event]
                    name=aww_help_menu
                [/fire_event]
            [/command]
		[/option]		
        [option]
			label=_"Exit"
            [command]
            [/command]
		[/option]
    [/message]
#enddef

#define AWW_RECALL OPTION LEVEL
    [message]
        speaker=narrator
        message="<b>"+_"Recall cost of low level units"+" → "+"</b>"+_"Cost to recall units with chosen level or lower. Cost of higher level units remains unchanged."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{OPTION}"+"</span></b>"+"   "_" (no_change = Default, cost_plus_one = Recruit cost +1, half = 10, free = 0)"+"

"+"<b>"+_"Max level to change recall cost"+" → "+"</b>"+_"Set the maximum level of the units that will get a cost reduction"+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{LEVEL}"+"</span></b>"
        side_for=$side_number
        image="misc/awwicon.png"
        [option]
			label=_"Change cost to recall low level units"
            [command]
				[message]
                    speaker=narrator
					message=_"Set cost to recall low level units."
					[option]
						label= "<i>"+_"Default"+"</i>"
						[command]
							[set_variable]
								name=aww_recall_zero_cost
								value=no_change
							[/set_variable]								
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Recruit cost plus one"+"</i>"
						[command]
							[set_variable]
								name=aww_recall_zero_cost
								value=cost_plus_one
							[/set_variable]		
						[/command]
					[/option] 
					[option]
						label= "<i>"+"10"+"</i>"
						[command]
							[set_variable]
								name=aww_recall_zero_cost
								value=half
							[/set_variable]	
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Free"+"</i>"
						[command]
							[set_variable]
								name=aww_recall_zero_cost
								value=free
							[/set_variable]	
						[/command]
					[/option]					
					[option]
						label=_"Back to help menu"
						default=yes
						[command]
							[fire_event]
								name=aww_help_menu
							[/fire_event]
						[/command]
					[/option]
					[option]
						label=_"Exit"
						[command]
						[/command]
					[/option]	
             [/message]
            [/command]
		[/option]	
        [option]
			label=_"Change maximum level to get a recall cost reduction"
            [command]
				[message]
					speaker=narrator
					message=_"Set maximum level to get a recall cost reduction."
					[text_input]
					label=_"Max"+" 99"
					variable=aww_recall_max_level
					max_length=2
					text=$aww_recall_max_level
					[/text_input]
					[option]
						label= "<i>"+_"Set"+"</i>"
					[/option]
				[/message]				
            [/command]
		[/option]			
		[option]
			label=_"Back to help menu"
			default=yes
            [command]
                [fire_event]
                    name=aww_help_menu
                [/fire_event]
            [/command]
		[/option]		
        [option]
			label=_"Exit"
            [command]
            [/command]
		[/option]			
    [/message]
#enddef

#define AWW_BERSERK STATUS NUMBER
    [message]
        speaker=narrator
        message="<b>"+_"Berserk tweak : Replaced by Fury"+" → "+"</b>"+_"Replace 'berserk' by a new 'Fury' weapon special, way more interesting. "+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{STATUS}"+"</span></b>"+"

"+"<b>"+_"Kills to Bloodthirsty (Fury)"+" → "+"</b>"+_"Killings per map needed to gain Bloodthirsty with Fury ability."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{NUMBER}"+"</span></b>"+"

"+"<b>"_" Fury description : "+"</b>"+"
"+_"When used offensively :
- This attack deals more damage to the target.
- It also causes this unit to take more damage from the target’s counterattack.
- The damage ratio starts at 1.5, increases of 0.5 after each attack, until 3, then drop to 1, and the loop restart.
- Rampage : when the attack kills, the unit can attack an adjacent enemy.
- After "+"{NUMBER}"+_" kills with that attack, it gains Bloodthirsty, an offensive drain, until end of the scenario.
- A warcry related to the fury level with also be displayed when the unit attack."
        side_for=$side_number
        image="misc/awwicon.png"

        [option]
			label=_"Change status of Berserk tweak"
            [command]
				[message]
                    speaker=narrator
					message=_"Set status of Berserk tweak."
					[option]
						label= "<i>"+_"Activate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_12(1)
								>>
							[/lua]
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Deactivate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_12(0)
								>>
							[/lua]						
						[/command]
					[/option] 
					[option]
						label=_"Back to help menu"
						default=yes
						[command]
							[fire_event]
								name=aww_help_menu
							[/fire_event]
						[/command]
					[/option]
					[option]
						label=_"Exit"
						[command]
						[/command]
					[/option]	
                [/message]
            [/command]
		[/option]	
 
        [option]
			label=_"Change number of kills needed to gain Bloodthirsty per scenario"
            [command]
				[message]
                    speaker=narrator
					message=_"Set number of kills needed to gain Bloodthirsty per scenario."
					[text_input]
					label=_"Max"+" 9"
					variable=aww_12_fury_kills
					max_length=1
					text=$aww_12_fury_kills
					[/text_input]
					[option]
						label= "<i>"+_"Set"+"</i>"
					[/option]
                [/message]
            [/command]
		[/option]		
        [option]
			label=_"Back to help menu"
			default=yes
            [command]
                [fire_event]
                    name=aww_help_menu
                [/fire_event]
            [/command]
		[/option]		
        [option]
			label=_"Exit"
            [command]
            [/command]
		[/option]
   [/message]
#enddef

#define AWW_AMBUSH STATUS
    [message]
        speaker=narrator
        message="<b>"+_"Ambush tweak : Surprise Attacks"+" → "+"</b>"+_"An ambush will trigger a quick combat in which the ambushed unit can't counter-attack. This surprise attack have a 2 extra turn cooldown, but can ambush as normally. Normal attacks adds a 1 turn cooldown to surprise attack. Awesome combined with NINJA WARS!."+"

"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{STATUS}"+"</span></b>"
        side_for=$side_number
        image="misc/awwicon.png"
        [option]
			label=_"Change status of Surprise Attacks"
            [command]
				[message]
                    speaker=narrator
					message=_"Set status of Surprise Attacks."
					[option]
						label= "<i>"+_"Activate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_13(1)
								>>
							[/lua]
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Deactivate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_13(0)
								>>
							[/lua]	
						[/command]
					[/option] 
					[option]
						label=_"Back to help menu"
						default=yes
						[command]
							[fire_event]
								name=aww_help_menu
							[/fire_event]
						[/command]
					[/option]
					[option]
						label=_"Exit"
						[command]
						[/command]
					[/option]						
                [/message]
            [/command]
		[/option]
        [option]
			label=_"Back to help menu"
			default=yes
            [command]
                [fire_event]
                    name=aww_help_menu
                [/fire_event]
            [/command]
		[/option]		
        [option]
			label=_"Exit"
            [command]
            [/command]
		[/option]	
    [/message]
#enddef

#define AWW_NINJA STATUS
    [message]
        speaker=narrator
        message="<b>"+_"NINJA WARS!"+" → "+"</b>"+_"Most of units will have back-stabs on melee pierce and blade weapons, poison on piercing ranged weapons, diversion on units that already have back-stabs or poison, skirmisher, will be invisible in villages, forests, deep water, or everywhere at night, and will move faster for each level. For funny PvP with fog-of-war focused on ambushes/hide&seek."+"

"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>"+"{STATUS}"+"</span></b>"
        side_for=$side_number
        image="misc/awwicon.png"
        [option]
			label=_"Change status of NINJA WARS!"
            [command]
				[message]
                    speaker=narrator
					message=_"Set status of NINJA WARS!"
					[option]
						label= "<i>"+_"Activate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_11(1)
								>>
							[/lua]
						[/command]
					[/option]
					[option]
						label= "<i>"+_"Deactivate"+"</i>"
						[command]
							[lua]
								code=<<
									aww_status.update_feature_11(0)
								>>
							[/lua]	
						[/command]
					[/option] 
					[option]
						label=_"Back to help menu"
						default=yes
						[command]
							[fire_event]
								name=aww_help_menu
							[/fire_event]
						[/command]
					[/option]
					[option]
						label=_"Exit"
						[command]
						[/command]
					[/option]						
                [/message]
            [/command]
		[/option]
		[option]
			label=_"Back to help menu"
			default=yes
			[command]
				[fire_event]
					name=aww_help_menu
				[/fire_event]
			[/command]
		[/option]
		[option]
			label=_"Exit"
			[command]
			[/command]
		[/option]		
    [/message]
#enddef
