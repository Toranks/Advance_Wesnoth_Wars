#textdomain aww
# Complete menu with help and configurations
# Author: Toranks

#To show different variables on help menu

#define BACK_AND_EXIT
    [option]
        image=misc/aww-back.png
        label=_"Back to help menu"
        default=yes
        [command]
            [fire_event]
                name=aww_help_menu
            [/fire_event]
        [/command]
    [/option]
    [option]
        image=misc/aww-exit.png
        label="<b>"+_"Exit"+"</b>"
        [command]
        [/command]
    [/option]
#enddef

#define BACK_WHILE
    [option]
        image=misc/aww-back.png
        label="<b>"+_"Back to help menu"+"</b>"
        [command]
            [set_variable]
                name=aww_menu_experience
                value=yes
            [/set_variable]
        [/command]
    [/option]
#enddef

# wmllint: markcheck off
#define AWW_NO_RANDOM STATUS DAMAGE VERBOSE
    [message]
        speaker=narrator
        message="<b>"+_"No Random Combats"+" → "+"</b>"+_"Attacks will never randomly miss, misses probabilities is instead used as damage reduction."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{STATUS}</span></b>"+"

"+"<b>"+_"No Random Combats"+_" : Adjusted Damage %"+" → "+"</b>"+_"To increase/reduce damage converted from hit probabilities. Only applies for 'No Random Combats'."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{DAMAGE}</span></b>"
        side_for=$side_number
        image="misc/aww-norandom-icon.png"
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of No Random Combats"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of No Random Combats."
                    image="misc/aww-norandom-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_01(1)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_01(0)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change Adjusted Damage %"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set % of Adjusted Damage."
                    image="misc/aww-norandom-icon.png"
                    [text_input]
                        label=_"Min"+" -99 / "+_"Max"+" 999"
                        variable=aww_08_randomless_damage_adjustment
                        max_length=3
                        text=$aww_08_randomless_damage_adjustment
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [print]
                                text=_"No Random Combats"+_" : Adjusted Damage %"+" → "+_"Set to"+": $aww_08_randomless_damage_adjustment"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of Verbose"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of Verbose."+" "+_"If features #01 or #02 are enabled, will display messages about damage/hits number calculations. Useful for tests or understanding."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{VERBOSE}</span></b>"
                    image="misc/aww-norandom-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_07(1)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_07(0)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        {BACK_AND_EXIT}
    [/message]
#enddef

#define AWW_SQUAD MODE VERBOSE
    [message]
        speaker=narrator
        message="<b>"+_"Squad Mode"+" → "+"</b>"+_"Units do proportionally less attack strikes with less HP (or less damage for single-strike attacks). Swarm is a worse ratio (-1 strike if you miss just 1 HP) than native, but taken in account by AI. In both cases : "+"

- "+ _"The number of strikes is proportional to the percentage of its of maximum HP the unit has. For example a unit with 3/4 of its maximum HP will get 3/4 of the number of strikes."+"
- "+ _"Minimum strikes will be 1."+"
- "+ _"For attack having only 1 base strike, HP ratio will be used to reduce damage."+"
- "+ _"Excluded for berserk & fury attack. To simulate that the lesser they are, the more furious they go."+"
- "+ _"Excluded on attacks that already have swarm."+"

"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{MODE}</span></b>"+"        "_"(0 = No, 1 = Squad, 2 = Swarm)"
        side_for=$side_number
        image="misc/aww-squad-icon.png"
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of Squad Mode"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of Squad Mode."
                    image="misc/aww-squad-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Squad"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_02(1)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Swarm"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_02(2)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_02(0)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of Verbose"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of Verbose."+" "+_"If features #01 or #02 are enabled, will display messages about damage/hits number calculations. Useful for tests or understanding."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{VERBOSE}</span></b>"
                    image="misc/aww-squad-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_07(1)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_07(0)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        {BACK_AND_EXIT}
    [/message]
#enddef

#define AWW_VILLAGES STATUS DISTANCE
    [message]
        speaker=narrator
        message="<b>"+_"Villages line of sight"+" → "+"</b>"+_"All villages have a line of sight belonging to the owner side."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{STATUS}</span></b>"+"

"+"<b>"+_"Villages line of sight range"+" → "+"</b>"+_"Set the range of villages line of sight. Only applies with 'Villages line of sight' active."+" "+_"0 means the side can only see the village hex itself."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{DISTANCE}</span></b>"
        side_for=$side_number
        image="misc/aww-village-icon.png"
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of Villages line of sight"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of Villages line of sight."
                    image="misc/aww-village-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_16_villages_has_sight
                                value=yes
                            [/set_variable]
                            [print]
                                text=_"Villages line of sight"+" → "+_"Set to"+": yes"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_16_villages_has_sight
                                value=no
                            [/set_variable]
                            [print]
                                text=_"Villages line of sight"+" → "+_"Set to"+": no"
                                size=24
                                duration=5000
                                color=255,0,0
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change range of Villages line of sight"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set range of Villages line of sight."
                    image="misc/aww-village-icon.png"
                    [text_input]
                        label=_"Max"+" 99"
                        variable=aww_villages_sight_distance
                        max_length=2
                        text=$aww_villages_sight_distance
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [print]
                                text=_"Villages line of sight range"+" → "+_"Set to"+": $aww_villages_sight_distance"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        {BACK_AND_EXIT}
    [/message]
#enddef

#define AWW_DESERTION STATUS GOLD
    [message]
        speaker=narrator
        message="<b>"+_"Desertions"+" → "+"</b>"+_"One unit desertion will occur per turn when a human player side has less gold than the specified value. The unit will desert to a random side among all those in play. Leaders, promoted leaders, heroes, and loyal units will be exempt from desertion. This will occur at the start of the turn, so the affected side can react to kill the deserter before he has a chance to attack. Does not apply to AI sides."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{STATUS}</span></b>"+"

"+"<b>"+_"Min gold to prevent desertions"+" → "+"</b>"+_"Gold, in negative or zero value, from which unit desertion will be prevented. With less gold than that value, it will desert one unit per turn."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{GOLD}</span></b>"
        side_for=$side_number
        image="misc/aww-desertion-icon.png"
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of Desertions"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of Desertions."
                    image="misc/aww-desertion-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_19_desertions
                                value=yes
                            [/set_variable]
                            [print]
                                text=_"Desertions"+" → "+_"Set to"+": yes"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_19_desertions
                                value=no
                            [/set_variable]
                            [print]
                                text=_"Desertions"+" → "+_"Set to"+": no"
                                size=24
                                duration=5000
                                color=255,0,0
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change min gold to prevent desertions"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set min gold to prevent desertions."
                    image="misc/aww-desertion-icon.png"
                    [text_input]
                        label=_"Min"+" -9999 / "+_"Max"+" 99999"
                        variable=aww_desertion_gold
                        max_length=5
                        text=$aww_desertion_gold
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [print]
                                text=_"Min gold to prevent desertions"+" → "+_"Set to"+": $aww_desertion_gold"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        {BACK_AND_EXIT}
    [/message]
#enddef

#define AWW_LEVELUP NOTIFICATION RELATIVE
    [message]
        speaker=narrator
        message="<b>"+_"Level-Up : Floating Notification"+" → "+"</b>"+_"Floating text on the unit currently leveling-up. Can be helpful to know which unit is concerned by an advancement."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{NOTIFICATION}</span></b>

<b>"+_"Level-Up : Relative Healing"+" → "+"</b>"+_"When an unit advances a level raising his Max HP, instead of a full healing and being cured, it keep the missing HP, but statuses are cured."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{RELATIVE}</span></b>"
        side_for=$side_number
        image="misc/aww-levelup-icon.png"
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of Floating Notification"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of Floating Notification."
                    image="misc/aww-levelup-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_14(1)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_14(0)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of Relative Healing"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of Relative Healing."
                    image="misc/aww-levelup-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_06(1)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_06(0)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        {BACK_AND_EXIT}
    [/message]
#enddef

#define AWW_LEVEL STATUS LEVEL
    [message]
        speaker=narrator
        message="<b>"+_"Level-Up After Max Level Advancement : "+_"Increase Level Number"+" → "+"</b>"+_"The unit level will continue growing with the AMLA level-ups."+"

"+_"This will affect level-based features, such as leadership, upkeep cost and the experience that enemies will get for fighting or killing a unit."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{STATUS}</span></b>

"+"<b>"+_"Leadership/Inspire max level"+" → "+"</b>"+_"Set the maximum level that will be considered to apply the bonus. Units with this level or higher can't be lead but will be able to lead as if they were of that level. With 'inspire' units with higher level cannot be inspired, but units of the same level can. To standard units this only applies if Increase Level Number is active, but applies to all units who receives an AMLA Bonus."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{LEVEL}</span></b>"
        side_for=$side_number
        image="misc/aww-amla1-icon.png"
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of Increase Level Number"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of Increase Level Number."+_"
<b>Instructions:</b>
- <i>Activate</i> will allow new level increases, but maintaining current levels.
- <i>Restore</i> will allow new level increases, and restores lost levels due to deactivation or some special event that changes or rebuilds the unit. It will only work if it is indeed the same unit, and not a new one.
- <i>Stop</i> will stop new level increases, but keeping the levels gained.
- <i>Deactivate</i> will reset the level of all units to their base level and will restore leadership and inspire abilities to default. No other stats or abilities will change."
                    image="misc/aww-amla1-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_15(1)
								>>
                            [/lua]
                            [fire_event]
                                name=aww_15_reload_leadership
                            [/fire_event]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Restore"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_15(1)
								>>
                            [/lua]
                            [fire_event]
                                name=aww_15_reload_leadership
                            [/fire_event]
                            [fire_event]
                                name=aww_15_restore_level
                            [/fire_event]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Stop"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_15(0)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_15(0)
								>>
                            [/lua]
                            [aww_remove_object]
                                object_id=aww_15_amla_level,aww_leadership_object
                            [/aww_remove_object]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change maximum level of Leadership/Inspire"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set maximum level of Leadership/Inspire."+"
"+_"This resets the max level to all units with leadership or inspire abilities, included leadership from AMLA Bonus."
                    image="misc/aww-amla1-icon.png"
                    [text_input]
                        label=_"Max"+" 99"
                        variable=aww_leadership_level
                        max_length=2
                        text=$aww_leadership_level
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [fire_event]
                                name=aww_15_reload_leadership
                            [/fire_event]
                            [print]
                                text=_"Leadership/Inspire max level"+" → "+_"Set to"+": $aww_leadership_level"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        {BACK_AND_EXIT}
    [/message]
#enddef

#define AWW_BONUS STATUS NFWBONUS METHOD MAXEXP
    [message]
# wmlindent: start ignoring
        speaker=narrator
        side_for=$side_number
        image="misc/aww-bonus-icon.png"
        message="<b>"+_"Level-Up After Max Level Advancement : Bonuses"+" → "+"</b>"+_"Units reaching AMLA level-ups can gain an ability, special, trait or increased stat each level. Choose if you want to receive this Bonuses randomly for all units, as a selectable advancement for human players and randomly for AI units, or randomly only for AI units. This last case is intended for scenarios or campaigns with many exclusive player advancements, not accessible to the AI, compensating for this absence. To identify them, they will have a bronze bracelet icon."+"

"+_"Differences between Random and Manual:
- With Random Bonuses receives also the default AMLA or -if exist- other selectable AMLAs. Normally +3 max HP and +20% max XP.
- Manual Bonuses advancements doesn't increases max HP but adds <span color='#00FFFF'>$aww_09_bonus_exp_percentage%</span> max XP (configurable). Some powerful Bonuses have a higher max XP %, based on a multiplier.
- You can't use more than 3 times the Bonus Melee and Ranged damage and Movement points, but there's no limit with Random Bonuses.
- The bracelet icon indicates that it has Bonuses availables in Manual (even though it hasn't applied it yet), but mean that it has already received a Bonus in Random.
- The AI will always receive Random Bonuses, as it does not have a self-selection system."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{STATUS}</span></b>
<b><span color='#00E600'>"+_"Method"+": "+"</span><span color='#00FFFF'>{METHOD}</span></b>
 "+_"(<span color='#00FFFF'>0</span> = Stop, <span color='#00FFFF'>1</span> = Random, <span color='#00FFFF'>2</span> = Manual, <span color='#00FFFF'>3</span> = Only AI)"+"
<b><span color='#00E600'>"+_"Max. experience increased"+": "+"</span><span color='#00FFFF'>{MAXEXP}%</span></b>"+
#ifdef LOTI_1_OR_2
"

"+"<b><span color='#FF0000'>"+_"Not recommended on <u>Legend of the Invincibles</u>. If you activate this feature, units may lose the effects of their items and you may have to re-equip them."+" "+_"Manual Bonuses are not compatible in any case."+"</span></b>"
#else
""
#endif
# wmlindent: stop ignoring
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of Bonuses"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of Bonuses."+_"
<b>Instructions:</b>
- <i>Activate</i> will allow you to choose how you want the Bonuses to be assigned.
- <i>Stop</i> will stop the granting of more bonuses, but will keep the bonuses obtained.
- <i>Deactivate</i> will also remove all bonuses obtained, and cannot be undone. No other stats or abilities will change."
                    image="misc/aww-bonus-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [message]
                                speaker=narrator
                                message=_"Set method of Bonuses."+_"
<b>Instructions:</b>
- <b><i>Random</i></b> → All the Bonus will be chosen randomly among the conditions that the unit meets.
- <b><i>Manual</i></b> → All the Bonus will be manually eligible among those whose conditions meet.
- <b><i>Only AI</i></b> → All the Bonus will be chosen randomly among those whose conditions meet, but only for AI units."
                                image="misc/aww-bonus-icon.png"
                                [option]
                                    image=misc/aww-arrow.png
                                    label="<i>"+_"Random"+"</i>"
                                    [command]
                                        [lua]
                                            code=<<
												aww_status.update_feature_09(1)
											>>
                                        [/lua]
                                        [set_variable]
                                            name=aww_09_option_amla_bonus
                                            value=1
                                        [/set_variable]
                                        [fire_event]
                                            name=aww_event_09_change
                                        [/fire_event]
                                    [/command]
                                [/option]
                                [option]
                                    image=misc/aww-arrow.png
                                    label="<i>"+_"Manual"+"</i>"
                                    [command]
                                        [set_variable]
                                            name=aww_09_enable_amla_bonus
                                            value=yes
                                        [/set_variable]
                                        [set_variable]
                                            name=aww_09_option_amla_bonus
                                            value=2
                                        [/set_variable]
                                        [fire_event]
                                            name=aww_event_09_rebuild
                                        [/fire_event]
                                        [print]
                                            text=_"Method"+" → "+_"Set to"+": "+_"Manual"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                [option]
                                    image=misc/aww-arrow.png
                                    label="<i>"+_"Only AI"+"</i>"
                                    [command]
                                        [set_variable]
                                            name=aww_09_enable_amla_bonus
                                            value=yes
                                        [/set_variable]
                                        [set_variable]
                                            name=aww_09_option_amla_bonus
                                            value=3
                                        [/set_variable]
                                        [fire_event]
                                            name=aww_event_09_rebuild
                                        [/fire_event]
                                        [print]
                                            text=_"Method"+" → "+_"Set to"+": "+_"Only AI"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                {BACK_AND_EXIT}
                            [/message]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Stop"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_09_enable_amla_bonus
                                value=no
                            [/set_variable]
                            [set_variable]
                                name=aww_09_option_amla_bonus
                                value=0
                            [/set_variable]
                            [print]
                                text=_"Bonuses"+" → "+_"Stopped"
                                size=24
                                duration=5000
                                color=255,0,0
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_09(0)
								>>
                            [/lua]
                            [set_variable]
                                name=aww_09_option_amla_bonus
                                value=0
                            [/set_variable]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change percentage of max XP"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set percentage of max XP increase. Every time you select a Bonus, the maximum experience to level up again will increase by that percentage (with a multiplier on some powerful Bonuses), similar to the default AMLA."
                    image="misc/aww-bonus-icon.png"
                    [text_input]
                        label=_"Max"+" 999"
                        variable=aww_09_bonus_exp_percentage
                        max_length=3
                        text=$aww_09_bonus_exp_percentage
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [fire_event]
                                name=aww_event_09_rebuild
                            [/fire_event]
                            [print]
                                text=_"Max. experience increased"+" → "+_"Set to"+": $aww_09_bonus_exp_percentage"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
#ifdef NON_FATAL_WOUNDS_EXTENDED
        [option]
            image=misc/aww-arrow.png
            label="<b>"+_"Non-Fatal Wounds : Bonus on healing"+"</b>"
            [command]
                [message]
                    speaker=narrator
                    message="<b>"+_"Non-Fatal Wounds : Bonus on healing"+" → "+"</b>"+_"Combined with Random Bonuses, you can choose whether when a unit receives a recovery AMLA of Non-Fatal Wounds instead of its default AMLA, they also receives a Random Bonus or not. Does not apply with Manual Bonuses, you simply choose one or the other. All other features will work the same, including leveling up (if appropiate)."+"

<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{NFWBONUS}</span></b>

"+_"Set status of Bonus on healing. Choose if you want to receive a Random Bonus when you choose an AMLA of recovery of some wound."+_" Default:"+_" Off"
                    image="misc/aww-bonus-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_09_non_fatal_wounds
                                value=yes
                            [/set_variable]
                            [print]
                                text=_"Non-Fatal Wounds : Bonus on healing"+" → "+_"Set to"+": yes"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_09_non_fatal_wounds
                                value=no
                            [/set_variable]
                            [print]
                                text=_"Non-Fatal Wounds : Bonus on healing"+" → "+_"Set to"+": no"
                                size=24
                                duration=5000
                                color=255,0,0
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
#endif
        [option]
            image=misc/aww-arrow.png
            label=_"List of possible Bonuses"
            [command]
                [message]
                    speaker=narrator
                    message=+_"<b><i>Possible Bonuses</i>, effect (candidates) - random percentage if conditions are met - max XP multiplier</b>
* <b><i>Melee damage +3</i></b> or <b><i>Ranged damage +2</i></b> (units with attacks of 3 or more strikes) - 8% both
* <b><i>Melee strikes +1</i></b> or <b><i>Ranged strikes +1</i></b> (units with attacks of 3 or less strikes, or units with 2 or less strikes, if the base strike value is 1) - 8% both - Double max XP for units with base strike value equals to 1
* <b><i>Movement points +1</i></b> (all units) - 8%
* <b><i>First strike</i></b> (units with attacks of 1-2 strikes) - 4%
* <b><i>Poison</i></b> (units with attacks of blade and piercing) - 4%
* <b><i>Leadership</i></b> (units with lvl 3 minimum, or lvl 5 minimum with Increase Level Number active) - 4%
* <b><i>Distract</i></b>, negates ZOC around the unit for allies - 4%
* <b><i>Regenerates</i></b>, +4 HP or slow poison every turn (units without any type of regeneration ability) - 4%
* <b><i>Adrenaline</i></b>, +4 HP every hit (units without any type of drain or heal on hit special) - 4%
* <b><i>Backstab</i></b> (on attacks with melee blade and piercing) - 4%
* <b><i>Loyal</i></b> (units with level 3 minimum, or lvl 5 minimum with Manual and Increase Level Number active) - 4% - Double max XP
* <b><i>Fearless</i></b> (units with lawful or chaotic alignment) - 4%
* <b><i>Marksman</i></b>, minimum accuracy of 60% (ranged attacks without magic or any chance of hit special) - 8%
* <b><i>Slows</i></b> (attacks with type cold) - 8%
* <b><i>Camouflage</i></b> hides on villages, vegetation, deep water and everywhere at night (units with any hides ability, that will be replaced, or ghosts) - 8%"
                    image="misc/aww-bonus-icon.png"
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Give Manual Bonuses contextual menu"
            [command]
                [message]
                    speaker=narrator
                    message=_"Give or rebuild the Manual Bonuses to a specific unit with right click. This is useful for certain situations when units switch from AI to humans in the middle of a scenario, or change their type or abilities, etc."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>$aww_09_enable_amla_menu|</span></b>"
                    image="misc/aww-bonus-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_09_enable_amla_menu
                                value=yes
                            [/set_variable]
                            [fire_event]
                                name=aww_09_create_give_menu
                            [/fire_event]
                            [print]
                                text=_"Manual Bonuses contextual menu"+" → "+_"Set to"+": yes"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_09_enable_amla_menu
                                value=no
                            [/set_variable]
                            [clear_menu_item]
                                id=aww_give_advancements
                            [/clear_menu_item]
                            [print]
                                text=_"Manual Bonuses contextual menu"+" → "+_"Set to"+": no"
                                size=24
                                duration=5000
                                color=255,0,0
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        {BACK_AND_EXIT}
    [/message]
#enddef

#define AWW_PROMOTED_LEVEL STATUS NUMBER EPIC
    [message]
        speaker=narrator
        message="<b>"+_"Level-Up After Max Level Advancement : Promoted Leaders"+" → "+"</b>"+_"Standard units reaching their first AMLA level-up will be able to recruit the same units as the original leader, recall, and receives a bronze crown icon. Excluded for special Heroes."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{STATUS}</span></b>"+"

"+"<b>"+_"Promoted Leaders : Epic Heroes"+" → "+"</b>"+_"Choose if you want Promoted Leaders to also get the epic trait (if Epic Heroes is active). They will not receive regeneration and distraction even if it is active, only via AMLA Bonus."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{EPIC}</span></b>"+"

"+"<b>"+_"Promoted Leaders : Mininum level"+" → "+"</b>"+_"Set the minimum level to be promoted. Only units with this level or higher on their first AMLA will be promoted."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{NUMBER}</span></b>"
        side_for=$side_number
        image="misc/aww-promoted-icon.png"
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of Promoted Leaders"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of Promoted Leaders."+_"
<b>Instructions:</b>
- <i>Activate</i> will allow new Promoted Leaders, but will not change existing ones.
- <i>Restore</i> will activate Promoted Leaders and will restore the promotion on all units that previously lost them via <i>Deactivate</i>.
- <i>Stop</i> will stop new units from acquiring the promotion, but will keep the promotions gained.
- <i>Deactivate</i> will remove the promotion to all units. No other stats or abilities will change."
                    image="misc/aww-promoted-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_03_enable_promoted_leader
                                value=yes
                            [/set_variable]
                            [print]
                                text=_"Promoted Leaders"+" → "+_"Set to"+": yes"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Restore"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_03(1)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Stop"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_03_enable_promoted_leader
                                value=no
                            [/set_variable]
                            [print]
                                text=_"Promoted Leaders"+" → "+_"Stopped"
                                size=24
                                duration=5000
                                color=255,0,0
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_03(0)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of Epic Heroes for Promoted Leaders"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of Epic Heroes for Promoted Leaders."+_"
<b>Instructions:</b>
- <i>Activate</i> will allow Epic Heroes for Promoted Leaders. Existing Promoted Leaders will receive the trait the next time they are recruited.
- <i>Deactivate</i> will avoid Epic Heroes for new Promoted Leaders, but will not change existing ones. Deactivate Epic Heroes and restore it in case you want to remove the epic trait only on Promoted Leaders."
                    image="misc/aww-promoted-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_03_epic_promoted_leader
                                value=yes
                            [/set_variable]
                            [print]
                                text=_"Promoted Leaders : Epic Heroes"+" → "+_"Set to"+": yes"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_03_epic_promoted_leader
                                value=no
                            [/set_variable]
                            [print]
                                text=_"Promoted Leaders : Epic Heroes"+" → "+_"Set to"+": no"
                                size=24
                                duration=5000
                                color=255,0,0
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change minimum level to be promoted"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set minimum level to be promoted."
                    image="misc/aww-promoted-icon.png"
                    [text_input]
                        label=_"Max"+" 99"
                        variable=aww_03_level_promoted_leader
                        max_length=2
                        text=$aww_03_level_promoted_leader
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [print]
                                text=_"Promoted Leaders : Mininum level"+" → "+_"Set to"+": $aww_03_level_promoted_leader"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        {BACK_AND_EXIT}
    [/message]
#enddef

#define AWW_EPIC STATUS STATUS2
    [message]
        speaker=narrator
        message="<b>"+_"Epic Heroes"+" → "+"</b>"+_"The Leaders and Heroes (gold & silver crowns) gain an increase of 20% of their attributes and an extra 2 HP per level, making them harder to kill."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{STATUS}</span></b>"+"

"+"<b>"+_"Epic Heroes"+" : "+_"Regeneration and distraction"+" → "+"</b>"+_"Epic Heroes also acquires regeneration and distraction abilities by default. Only applies if Epic Heroes is active. Excluded from Promoted Leaders."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{STATUS2}</span></b>"
        side_for=$side_number
        image="misc/aww-amla2-icon.png"

        [option]
            image=misc/aww-arrow.png
            label=_"Change status of Epic Heroes"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of Epic Heroes."+_"
<b>Instructions:</b>
- <i>Activate</i> will allow new Epic Heroes to spawn, but will not change existing ones.
- <i>Restore</i> will activate Epic Heroes and will grant or restore the Epic trait on all units that apply to them.
- <i>Stop</i> will stop the apparition of more Epic Heroes, but will keep the existing ones.
- <i>Deactivate</i> will also remove all Epic traits obtained. No other stats or abilities will change."
                    image="misc/aww-amla2-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_10_enable_gifted_leaders
                                value=yes
                            [/set_variable]
                            [print]
                                text=_"Epic Heroes"+" → "+_"Set to"+": yes"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Restore"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_10(1)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Stop"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_10_enable_gifted_leaders
                                value=no
                            [/set_variable]
                            [print]
                                text=_"Epic Heroes"+" → "+_"Stopped"
                                size=24
                                duration=5000
                                color=255,0,0
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_10(0)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of regeneration and distraction for Epic Heroes"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of regeneration and distraction for Epic Heroes."+_"
<b>Instructions:</b>
- <i>Activate</i> will allow new Epic Heroes to obtain regeneration and distraction, but will not change existing ones.
- <i>Restore</i> will also grant regeneration and distraction to Epic Heroes who don't already have them.
- <i>Stop</i> will stop the granting of these abilities to new Epic Heroes, but will keep the existing ones.
- <i>Deactivate</i> will also remove regeneration and distraction abilities granted by this feature, but not if it was granted by other feature. No other stats or abilities will change."
                    image="misc/aww-amla2-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_epic_object_opt
                                value=yes
                            [/set_variable]
                            [print]
                                text=_"Regeneration and distraction"+" → "+_"Set to"+": yes"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Restore"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_epic_object_opt
                                value=yes
                            [/set_variable]
                            [fire_event]
                                name=aww_event_10_enable_opt
                            [/fire_event]
                            [print]
                                text=_"Regeneration and distraction"+" → "+_"Restored"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Stop"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_epic_object_opt
                                value=no
                            [/set_variable]
                            [print]
                                text=_"Regeneration and distraction"+" → "+_"Stopped"
                                size=24
                                duration=5000
                                color=255,0,0
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_epic_object_opt
                                value=no
                            [/set_variable]
                            [aww_remove_object]
                                object_id=aww_epic_object_reg,aww_epic_object_dist
                            [/aww_remove_object]
                            [print]
                                text=_"Regeneration and distraction"+" → "+_"Set to"+": no"
                                size=24
                                duration=5000
                                color=255,0,0
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        {BACK_AND_EXIT}
    [/message]
#enddef

#define AWW_LEARNING HUMAN AI HEALING EXP ANIM LEADERS LOWLEVEL LOWLEVEL_XP LOWLEVEL_XP_AI
    [message]
        speaker=narrator
        message="<b>"+_"Learning from the Battlefield (Passive XP for players)"+" → "+"</b>"+_"Extra XP for all human player units each turn. You can set a different amount of experience for low level units, by default the same."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>[{HUMAN}"+_"/turn]"+"</span></b>
<b><span color='#00E600'>"+_"Units with level"+"</span> <span color='#00FFFF'>{LOWLEVEL}</span> <span color='#00E600'>"+_"or less"+": "+"</span><span color='#00FFFF'>[{LOWLEVEL_XP}"+_"/turn]"+"</span></b>

<b>"+_"Learning from the Battlefield (Passive XP for AI)"+" → "+"</b>"+_"Extra XP for all AI units each turn. You can set a different amount of experience for low level units, by default the same, and a extra amount of experience for leaders."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>[{AI}"+_"/turn AI]"+"</span></b>
<b><span color='#00E600'>"+_"Units with level"+"</span> <span color='#00FFFF'>{LOWLEVEL}</span> <span color='#00E600'>"+_"or less"+": "+"</span><span color='#00FFFF'>[{LOWLEVEL_XP_AI}"+_"/turn AI]"+"</span></b>
<b><span color='#00E600'>"+_"Extra to leaders"+": "+"</span><span color='#00FFFF'>[{LEADERS}"+_"/turn AI]"+"</span></b>

<b>"+_"Learning from Healing (Max XP/turn for Healing)"+" → "+"</b>"+_"Each turn, Healers will earn"+" <span color='#00FFFF'>{EXP}</span> "+_"XP for each adjacent wounded or poisoned ally, but you can limit the max/turn. 0 will disable the feature."+" "+_"An optional animation with float text indicates how many experience points have earned by each healer."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{HEALING}</span></b>"+"
<b><span color='#00E600'>"+_"Animation"+": "+"</span><span color='#00FFFF'>{ANIM}</span></b>

"+_"You can exclude any side from receiving any form of learning XP."+"
<b><span color='#00E600'>"+_"Excluded sides"+": "+"</span><span color='#00FFFF'>$aww_04_not_sides</span></b>"
        side_for=$side_number
        image="misc/aww-learning-icon.png"
        [option]
            image=misc/aww-arrow.png
            label=_"Change values of experience points"
            [command]
                [while]
                    {VARIABLE_CONDITIONAL aww_menu_experience not_equals yes}
                    [do]
                        [message]
                            speaker=narrator
                            message="<b>"+_"Learning from the Battlefield (Passive XP for players)"+" → "+"</b>
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>[{HUMAN}"+_"/turn]"+"</span></b>
<b><span color='#00E600'>"+_"Units with level"+"</span> <span color='#00FFFF'>{LOWLEVEL}</span> <span color='#00E600'>"+_"or less"+": "+"</span><span color='#00FFFF'>[{LOWLEVEL_XP}"+_"/turn]"+"</span></b>

<b>"+_"Learning from the Battlefield (Passive XP for AI)"+" → "+"</b>
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>[{AI}"+_"/turn AI]"+"</span></b>
<b><span color='#00E600'>"+_"Units with level"+"</span> <span color='#00FFFF'>{LOWLEVEL}</span> <span color='#00E600'>"+_"or less"+": "+"</span><span color='#00FFFF'>[{LOWLEVEL_XP_AI}"+_"/turn AI]"+"</span></b>
<b><span color='#00E600'>"+_"Extra to leaders"+": "+"</span><span color='#00FFFF'>[{LEADERS}"+_"/turn AI]"+"</span></b>
"
                            [option]
                                image=misc/aww-arrow.png
                                label=_"Change experience points for human players"
                                [command]
                                    [message]
                                        speaker=narrator
                                        message=_"Set experience points per turn for human players."
                                        image="misc/aww-learning-icon.png"
                                        [text_input]
                                            label=_"Max"+" 999"
                                            variable=aww_04_passive_xp
                                            max_length=3
                                            text={HUMAN}
                                        [/text_input]
                                        [option]
                                            image=misc/aww-arrow.png
                                            label="<i>"+_"Set"+"</i>"
                                            [command]
                                                [if]
                                                    {VARIABLE_CONDITIONAL aww_04_low_level_trigger equals no}
                                                    [then]
                                                        [set_variable]
                                                            name=aww_04_low_level_xp
                                                            to_variable=aww_04_passive_xp
                                                        [/set_variable]
                                                    [/then]
                                                [/if]
                                                [print2]
                                                    text=_"Learning from the Battlefield (Passive XP for players)"+" → "+_"Set to"+": $aww_04_passive_xp"
                                                    size=24
                                                    duration=5000
                                                    color=0,255,255
                                                [/print2]
                                            [/command]
                                        [/option]
                                        {BACK_WHILE}
                                    [/message]
                                [/command]
                            [/option]
                            [option]
                                image=misc/aww-arrow.png
                                label=_"Change experience points for human low level units"
                                [command]
                                    [message]
                                        speaker=narrator
                                        message=_"Set experience points per turn for player units with level $aww_04_low_level or less. Only applies if Passive XP is active. It is recommended 1 experience point or half the others."
                                        image="misc/aww-learning-icon.png"
                                        [text_input]
                                            label=_"Max"+" 999"
                                            variable=aww_04_low_level_xp
                                            max_length=3
                                            text={LOWLEVEL_XP}
                                        [/text_input]
                                        [option]
                                            image=misc/aww-arrow.png
                                            label="<i>"+_"Set"+"</i>"
                                            [command]
                                                [set_variable]
                                                    name=aww_04_low_level_trigger
                                                    value=yes
                                                [/set_variable]
                                                [print2]
                                                    text=_"Passive XP for player low level units"+" → "+_"Set to"+": $aww_04_low_level_xp"
                                                    size=24
                                                    duration=5000
                                                    color=0,255,255
                                                [/print2]
                                            [/command]
                                        [/option]
                                        {BACK_WHILE}
                                    [/message]
                                [/command]
                            [/option]
                            [option]
                                image=misc/aww-arrow.png
                                label=_"Change experience points for AI sides"
                                [command]
                                    [message]
                                        speaker=narrator
                                        message=_"Set experience points per turn for AI sides. It is recommended at least twice as much as human players."
                                        image="misc/aww-learning-icon.png"
                                        [text_input]
                                            label=_"Max"+" 999"
                                            variable=aww_04_passive_xp_ai
                                            max_length=3
                                            text={AI}
                                        [/text_input]
                                        [option]
                                            image=misc/aww-arrow.png
                                            label="<i>"+_"Set"+"</i>"
                                            [command]
                                                [if]
                                                    {VARIABLE_CONDITIONAL aww_04_low_level_trigger_ai equals no}
                                                    [then]
                                                        [set_variable]
                                                            name=aww_04_low_level_xp_ai
                                                            to_variable=aww_04_passive_xp_ai
                                                        [/set_variable]
                                                    [/then]
                                                [/if]
                                                [print2]
                                                    text=_"Learning from the Battlefield (Passive XP for AI)"+" → "+_"Set to"+": $aww_04_passive_xp_ai"
                                                    size=24
                                                    duration=5000
                                                    color=0,255,255
                                                [/print2]
                                            [/command]
                                        [/option]
                                        {BACK_WHILE}
                                    [/message]
                                [/command]
                            [/option]
                            [option]
                                image=misc/aww-arrow.png
                                label=_"Change experience points for AI low level units"
                                [command]
                                    [message]
                                        speaker=narrator
                                        message=_"Set experience points per turn for AI units with level $aww_04_low_level or less. Only applies if Passive XP for AI is active. It is recommended 1 experience point or half the others."
                                        image="misc/aww-learning-icon.png"
                                        [text_input]
                                            label=_"Max"+" 999"
                                            variable=aww_04_low_level_xp_ai
                                            max_length=3
                                            text={LOWLEVEL_XP_AI}
                                        [/text_input]
                                        [option]
                                            image=misc/aww-arrow.png
                                            label="<i>"+_"Set"+"</i>"
                                            [command]
                                                [set_variable]
                                                    name=aww_04_low_level_trigger_ai
                                                    value=yes
                                                [/set_variable]
                                                [print2]
                                                    text=_"Passive XP for AI low level units"+" → "+_"Set to"+": $aww_04_low_level_xp_ai"
                                                    size=24
                                                    duration=5000
                                                    color=0,255,255
                                                [/print2]
                                            [/command]
                                        [/option]
                                        {BACK_WHILE}
                                    [/message]
                                [/command]
                            [/option]
                            [option]
                                image=misc/aww-arrow.png
                                label=_"Change extra experience points for AI leaders"
                                [command]
                                    [message]
                                        speaker=narrator
                                        message=_"Set experience points per turn for AI leaders. You can compensate for the fact that they spend most of their time immobile in their keep. It will be applied independently of the passive experience for AI units, so it will be added if you have configured any amount. It is recommended at least twice the base value."
                                        image="misc/aww-learning-icon.png"
                                        [text_input]
                                            label=_"Max"+" 999"
                                            variable=aww_04_passive_xp_leaders
                                            max_length=3
                                            text={LEADERS}
                                        [/text_input]
                                        [option]
                                            image=misc/aww-arrow.png
                                            label="<i>"+_"Set"+"</i>"
                                            [command]
                                                [print2]
                                                    text=_"Extra to leaders"+" → "+_"Set to"+": $aww_04_passive_xp_leaders"
                                                    size=24
                                                    duration=5000
                                                    color=0,255,255
                                                [/print2]
                                            [/command]
                                        [/option]
                                        {BACK_WHILE}
                                    [/message]
                                [/command]
                            [/option]
                            {BACK_WHILE}
                        [/message]
                    [/do]
                [/while]
                {CLEAR_VARIABLE aww_menu_experience}
                [fire_event]
                    name=aww_help_menu
                [/fire_event]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change maximum level to be considered low level"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set the maximum level of the units that will receive less experience when it is configured. It is recommended 0 or 1, by default 1."
                    image="misc/aww-learning-icon.png"
                    [text_input]
                        label=_"Max"+" 99"
                        variable=aww_04_low_level
                        max_length=2
                        text={LOWLEVEL}
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [print]
                                text=_"Maximum level to be considered low level"+" → "+_"Set to"+": $aww_04_low_level"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change maximum experience points per turn healing units"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set maximum experience points per turn healing units."
                    image="misc/aww-learning-icon.png"
                    [text_input]
                        label=_"Max"+" 999"
                        variable=aww_05_healing_xp
                        max_length=3
                        text={HEALING}
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [print]
                                text=_"Learning from Healing (Max XP/turn for Healing)"+" → "+_"Set to"+": $aww_05_healing_xp"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change experience points per unit healed"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set experience points per unit healed. It will respect the maximum per turn."
                    image="misc/aww-learning-icon.png"
                    [text_input]
                        label=_"Max"+" 99"
                        variable=aww_05_healing_amount
                        max_length=2
                        text={EXP}
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [print]
                                text=_"Experience points per unit healed"+" → "+_"Set to"+": $aww_05_healing_xp"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of animation"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of animation and float text for experience gained healing units."
                    image="misc/aww-learning-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_healing_xp_notif
                                value=yes
                            [/set_variable]
                            [print]
                                text=_"Animation"+" → "+_"Set to"+": yes"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_healing_xp_notif
                                value=no
                            [/set_variable]
                            [print]
                                text=_"Animation"+" → "+_"Set to"+": no"
                                size=24
                                duration=5000
                                color=255,0,0
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Exclude sides from receiving experience"
            [command]
                [message]
                    speaker=narrator
                    message=_"Choose the side/s that will not receive passive or healing experience. Can be a comma-separated list. Leave it blank to disable it."
                    image="misc/aww-learning-icon.png"
                    [text_input]
                        label=_"Example: 1,3,6"
                        variable=aww_04_not_sides
                        max_length=999
                        text=$aww_04_not_sides
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [if]
                                [variable]
                                    name=aww_04_not_sides
                                    equals=""
                                [/variable]
                                [then]
                                    [print]
                                        text=_"Sides excluded from receiving XP"+" → "+_"Deactivated"
                                        size=24
                                        duration=5000
                                        color=255,0,0
                                    [/print]
                                [/then]
                                [else]
                                    [print]
                                        text=_"Sides excluded from receiving XP"+" → "+_"Set to"+": $aww_04_not_sides"
                                        size=24
                                        duration=5000
                                        color=0,255,255
                                    [/print]
                                [/else]
                            [/if]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        {BACK_AND_EXIT}
    [/message]
#enddef

#define AWW_RECALL OPTION_RECALL LEVEL OPTION_UNRECALL COST PERCENTAGE
    [message]
        speaker=narrator
        message="<b>"+_"Recall cost"+" → "+"</b>"+_"Cost to recall units with chosen level or lower. Cost of higher level units remains unchanged."+"
"+_"Note that this will override any custom recall cost that specific units may have in other addons. All mainline campaigns use the value 20, but the value set in game settings (Game recall cost) will be detected and used for all calculations, to be compatible with addons that modify this value. Percentage option defaults to 0.75 (75%)"+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{OPTION_RECALL}</span></b>
 "+_"(<span color='#00FFFF'>no_change</span> = Default, <span color='#00FFFF'>half</span> = Half, <span color='#00FFFF'>cost_plus_one</span> = Recruit cost +1, <span color='#00FFFF'>percentage</span> = Recruit cost percentage, <span color='#00FFFF'>free</span> = 0)"+"
<b><span color='#00E600'>"+_"Percentage"+": "+"</span><span color='#00FFFF'>{PERCENTAGE}</span></b>
<b><span color='#00E600'>"+_"Game recall cost"+": "+"</span><span color='#00FFFF'>"+"$aww_21_recall_real"+"</span></b>

<b>"+_"Max level to change recall cost"+" → "+"</b>"+_"Set the maximum level of the units that will get a cost reduction"+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{LEVEL}</span></b>

<b>"+_"Back to reserve"+" → "+"</b>"+_"Allows you to send normal units back to the recall list with right click on keeps. Also set the cost for performing this action."+" "+_"Cannot be used with leaders, heroes, promoted, other special units, or with no upkeep cost. Cannot be used if there is any enemy adjacent to the unit."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{OPTION_UNRECALL}</span></b>

<b>"+_"Cost to send unit to reserve"+" → "+"</b>"+_"Set the cost on gold to send unit to recall list."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{COST}</span></b>"
        side_for=$side_number
        image="misc/aww-recall-icon.png"
        [option]
            image=misc/aww-arrow.png
            label=_"Change cost to recall units"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set cost to recall units."
                    image="misc/aww-recall-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Default"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_recall_zero_cost
                                value=no_change
                            [/set_variable]
                            [modify_unit]
                                [filter]
                                [/filter]
                                recall_cost=-1
                            [/modify_unit]
                            [print]
                                text=_"Recall cost"+" → "+_"Set to"+": "+_"Default"
                                size=24
                                duration=5000
                                color=255,0,0
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Half"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_recall_zero_cost
                                value=half
                            [/set_variable]
                            [fire_event]
                                name=aww_17_reload_recall_cost
                            [/fire_event]
                            [print]
                                text=_"Recall cost"+" → "+_"Set to"+": "+_"Half"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Recruit cost plus one"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_recall_zero_cost
                                value=cost_plus_one
                            [/set_variable]
                            [fire_event]
                                name=aww_17_reload_recall_cost
                            [/fire_event]
                            [print]
                                text=_"Recall cost"+" → "+_"Set to"+": "+_"Recruit cost plus one"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Recruit cost percentage"+"</i>"
                        [command]
                            [message]
                                speaker=narrator
                                message=_"Percentage (in decimal) of the recruit cost that is applied with Recruit cost percentage option selected. Defaults to 0.75 (75%)"
                                image="misc/aww-recall-icon.png"
                                [text_input]
                                    label=_"Min 0.00 - Max"+"9999"
                                    variable=aww_recall_percentage
                                    max_length=4
                                    text={PERCENTAGE}
                                [/text_input]
                                [option]
                                    image=misc/aww-arrow.png
                                    label="<i>"+_"Set"+"</i>"
                                    [command]
                                        [set_variable]
                                            name=aww_recall_zero_cost
                                            value=percentage
                                        [/set_variable]
                                        [fire_event]
                                            name=aww_17_reload_recall_cost
                                        [/fire_event]
                                        [print]
                                            text=_"Recall cost"+" → "+_"Set to"+": "+_"Recruit cost percentage"+" $aww_recall_percentage|%"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                {BACK_AND_EXIT}
                            [/message]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Free"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_recall_zero_cost
                                value=free
                            [/set_variable]
                            [fire_event]
                                name=aww_17_reload_recall_cost
                            [/fire_event]
                            [print]
                                text=_"Recall cost"+" → "+_"Set to"+": "+_"Free"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change maximum level to get a recall cost change"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set the maximum level. Units with this level or lower will get the established cost change."
                    image="misc/aww-recall-icon.png"
                    [text_input]
                        label=_"Max"+" 99"
                        variable=aww_recall_max_level
                        max_length=2
                        text={LEVEL}
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [fire_event]
                                name=aww_17_reload_recall_cost
                            [/fire_event]
                            [print]
                                text=_"Max level to change recall cost"+" → "+_"Set to"+": $aww_recall_max_level"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of Back to reserve"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of Back to reserve."
                    image="misc/aww-recall-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_22_enable_unrecall
                                value=yes
                            [/set_variable]
                            [fire_event]
                                name=aww_enable_unrecall
                            [/fire_event]
                            [print]
                                text=_"Back to reserve"+" → "+_"Set to"+": yes"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_22_enable_unrecall
                                value=no
                            [/set_variable]
                            [clear_menu_item]
                                id=aww_unrecall
                            [/clear_menu_item]
                            [print]
                                text=_"Back to reserve"+" → "+_"Set to"+": no"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change cost to send unit to reserve"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set cost to send unit to reserve."
                    image="misc/aww-recall-icon.png"
                    [text_input]
                        label=_"Max"+" 999"
                        variable=aww_unrecall_gold
                        max_length=3
                        text={COST}
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [set_menu_item]
                                id=aww_unrecall
                                description=_"Send to reserve ($aww_unrecall_gold gold)"
                                synced=yes
                                image=icons/profiles/terrain_defense.png
                                [show_if]
                                    [have_unit]
                                        x,y=$x1,$y1
                                        {AWW_FILTER_CAN_BE_PROMOTED}
                                        [not]
                                            upkeep=loyal
                                        [/not]
                                        side=$side_number
                                        [not]
                                            [filter_adjacent]
                                                is_enemy=yes
                                            [/filter_adjacent]
                                        [/not]
                                    [/have_unit]
                                [/show_if]
                                [filter_location]
                                    formula=keep
                                [/filter_location]
                                [command]
                                    [fire_event]
                                        name=aww_reserve
                                        [primary_unit]
                                            x,y=$x1,$y1
                                        [/primary_unit]
                                    [/fire_event]
                                [/command]
                            [/set_menu_item]
                            [print]
                                text=_"Cost to send unit to reserve"+" → "+_"Set to"+": $aww_unrecall_gold"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        {BACK_AND_EXIT}
    [/message]
#enddef

#define AWW_BERSERK STATUS NUMBER ROUNDS
    [message]
# wmlindent: start ignoring
        speaker=narrator
        side_for=$side_number
        image="misc/aww-fury-icon.png"
        message="<b>"+_"Berserk tweak : Replaced by Fury"+" → "+"</b>"+_"Replace 'berserk' by a new 'Fury' weapon special, way more interesting. "+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{STATUS}</span></b>"+"

"+"<b>"+_"Kills to Bloodthirsty (Fury)"+" → "+"</b>"+_"Killings per map needed to gain Bloodthirsty with Fury ability. This weapon special drains half the damage dealt to living units and will apply to melee weapons only."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{NUMBER}</span></b>"+"

"+"<b>"+_"Berserk rounds"+" → "+"</b>"+_"Combat rounds of berserk ability. Only applies with Berserk tweak disabled to standard berserk ability."+"
"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{ROUNDS}</span></b>"+"

"+"<b>"_" Fury description : "+"</b>"+"
"+_"When used offensively :
- This attack deals more damage to the target.
- It also causes this unit to take more damage from the target’s counterattack.
- The damage ratio starts at 1.5, increases of 0.5 after each attack, until 3, then drop to 1, and the loop restart.
- Rampage : when the attack kills, the unit can attack an adjacent enemy.
- After "+"<span color='#00FFFF'>{NUMBER}</span>"+_" kills with that attack, it gains Bloodthirsty, an offensive drain, until end of the scenario.
- A warcry related to the fury level with also be displayed when the unit attacks."+
#ifdef LOTI_1_OR_2
"

"+"<b><span color='#FF0000'>"+_"Not recommended on <u>Legend of the Invincibles</u>. If you activate this feature, units may lose the effects of their items and you may have to re-equip them."+"</span></b>"
#else
""
#endif
# wmlindent: stop ignoring
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of Berserk tweak"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of Berserk tweak."
                    image="misc/aww-fury-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_12(1)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_12(0)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]

        [option]
            image=misc/aww-arrow.png
            label=_"Change number of kills to Bloodthirsty"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set number of kills needed to gain Bloodthirsty per scenario."
                    image="misc/aww-fury-icon.png"
                    [text_input]
                        label=_"Max"+" 9"
                        variable=aww_12_fury_kills
                        max_length=1
                        text={NUMBER}
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [print]
                                text=_"Kills to Bloodthirsty (Fury)"+" → "+_"Set to"+": $aww_12_fury_kills"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change number of rounds of berserk ability"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set number of rounds of berserk ability."
                    image="misc/aww-fury-icon.png"
                    [text_input]
                        label=_"Max"+" 99"
                        variable=aww_12_berserk_rounds
                        max_length=2
                        text={ROUNDS}
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [fire_event]
                                name=aww_12_rounds_reload
                            [/fire_event]
                            [print]
                                text=_"Berserk rounds"+" → "+_"Set to"+": $aww_12_berserk_rounds"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        {BACK_AND_EXIT}
    [/message]
#enddef

#define AWW_AMBUSH STATUS COOLDOWN ATTACK UNDO
    [message]
        speaker=narrator
        message="<b>"+_"Ambush tweak : Surprise Attacks"+" → "+"</b>"+_"An ambush will trigger a combat in which the ambushed unit can't counter-attack. This surprise attack has a <span color='#00FFFF'>$aww_ambush_cooldown</span>-turn cooldown, but units with their surprise attack on cooldown can still ambush normally. Normal attacks add a <span color='#00FFFF'>$aww_ambush_cooldown_attack</span>-turn cooldown to the surprise attack. Surprise attack availability will be indicated by a blue eye icon."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{STATUS}</span></b>

<b>"+_"Ambush tweak : Disallow Undo"+" → "+"</b>"+_"Disallow Undo on move, recruit and recall. It can keep active always or when at least one unit with the ability to hide is alive and present, which will apply to all sides in play. This can be used to prevent free exploration on maps with hidden units."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{UNDO}</span></b>  "+_"(<span color='#00FFFF'>0</span> = Deactivated, <span color='#00FFFF'>1</span> = Unit with hides, <span color='#00FFFF'>3</span> = Always)"+"
"
        side_for=$side_number
        image="misc/aww-ambush-icon.png"
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of Surprise Attacks"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of Surprise Attacks."
                    image="misc/aww-ambush-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_13(1)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_13(0)
								>>
                            [/lua]
                            [aww_remove_object]
                                object_id=aww_preambush_icon
                            [/aww_remove_object]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change cooldown turns of Surprise Attacks"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set cooldown turns of Surprise Attack. Counts the turn of the surprise attack, until finish all sides turns."
                    image="misc/aww-ambush-icon.png"
                    [text_input]
                        label=_"Max"+" 99"
                        variable=aww_ambush_cooldown
                        max_length=2
                        text={COOLDOWN}
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [print]
                                text=_"Cooldown turns of Surprise Attacks"+" → "+_"Set to"+": $aww_ambush_cooldown"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change cooldown turns when do a normal attack"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set cooldown turns when do a normal attack. Counts the turn of the normal attack, until finish all sides turns."
                    image="misc/aww-ambush-icon.png"
                    [text_input]
                        label=_"Max"+" 99"
                        variable=aww_ambush_cooldown_attack
                        max_length=2
                        text={ATTACK}
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [print]
                                text=_"Cooldown turns of normal attacks"+" → "+_"Set to"+": $aww_ambush_cooldown_attack"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of Disallow Undo"
            [command]
                [message]
                    speaker=narrator
                    message=_"Choose the status of Disallow Undo. This will cancel undo for all moves, recruits and recalls. Choose if you want to force it always, or only when at least a unit with the hides ability is alive and present. Deactivate it will restore the capability to undo immediately."
                    image="misc/aww-ambush-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_13_undo_mode
                                value=0
                            [/set_variable]
                            [clear_variable]
                                name=aww_13_undo_active
                            [/clear_variable]
                            [print]
                                text=_"Disallow Undo"+" → "+_"Set to"+": $aww_13_undo_mode"
                                size=24
                                duration=5000
                                color=255,0,0
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Unit with hides"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_13_undo_mode
                                value=1
                            [/set_variable]
                            [fire_event]
                                name=aww_13_hide_detection
                            [/fire_event]
                            [print]
                                text=_"Disallow Undo"+" → "+_"Set to"+": $aww_13_undo_mode"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Always"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_13_undo_mode
                                value=2
                            [/set_variable]
                            [clear_variable]
                                name=aww_13_undo_active
                            [/clear_variable]
                            [print]
                                text=_"Disallow Undo"+" → "+_"Set to"+": $aww_13_undo_mode"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        {BACK_AND_EXIT}
    [/message]
#enddef

#define AWW_NINJA STATUS
    [message]
        speaker=narrator
        message="<b>"+_"NINJA WARS!"+" → "+"</b>"+_"Changes:
- Back-stabs on melee pierce and blade weapons.
- Poison on piercing ranged weapons.
- Diversion on units that already have back-stabs or poison.
- Skirmisher on units that do not have skirmisher or distraction.
- All units will be invisible in villages, forests, deep water, or everywhere at night.
- All units receives +1 movement per level.

For funny PvP with fog-of-war focused on ambushes/hide&seek. Highly recommended to combine with Surprise Attacks."+"

"+"<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{STATUS}</span></b>"
        side_for=$side_number
        image="misc/aww-ninja-icon.png"
        [option]
            image=misc/aww-arrow.png
            label=_"Change status of NINJA WARS!"
            [command]
                [message]
                    speaker=narrator
                    message=_"Set status of NINJA WARS!"
                    image="misc/aww-ninja-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_11(1)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [lua]
                                code=<<
									aww_status.update_feature_11(0)
								>>
                            [/lua]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        {BACK_AND_EXIT}
    [/message]
#enddef

#define AWW_IMPORT STATUS
    [message]
        speaker=narrator
        message="<b>"+_"Import and export units anywhere"+" → "+"</b>"+_"Add a contextual menu on right click with capability of import and export units from and to any campaign or scenario."+"
		
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{STATUS}</span></b>

"+_"Set status of Import and export units."
        side_for=$side_number
        image="misc/aww-mubcdugi-icon.png"
        [option]
            image=misc/aww-arrow.png
            label="<i>"+_"Activate"+"</i>"
            [command]
                [if]
                    {VARIABLE_CONDITIONAL aww_21_dugi_mubw equals no}
                    [then]
                        [lua]
                            code = "wesnoth.dofile '~add-ons/{AWW_DIR}/lua/move_units_between_campaigns.lua'"
                        [/lua]
                    [/then]
                [/if]
                [set_variable]
                    name=aww_21_dugi_mubw
                    value=yes
                [/set_variable]
                [print]
                    text=_"Import and export units anywhere"+" → "+_"Set to"+": yes"
                    size=24
                    duration=5000
                    color=0,255,255
                [/print]
            [/command]
        [/option]
        [option]
            image=misc/aww-arrow.png
            label="<i>"+_"Deactivate"+"</i>"
            [command]
                [set_variable]
                    name=aww_21_dugi_mubw
                    value=no
                [/set_variable]
                [print]
                    text=_"Import and export units anywhere"+" → "+_"Set to"+": no"
                    size=24
                    duration=5000
                    color=255,0,0
                [/print]
            [/command]
        [/option]
        {BACK_AND_EXIT}
    [/message]
#enddef

#define AWW_AI_CONTROLLER_MENU AICONTROLLER AIPLAYER AIALLIES AILEADER AIALLY AIPLAYERLEADER
    [command]
        [message]
            speaker=narrator
            message="<b>"+_"Side AI Controller"+" → "+"</b>"+_"Let you or any human player control the behavior and objectives of any allied AI Side."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{AICONTROLLER}</span></b>
<b><span color='#00E600'>"+_"Controlled side/s"+": "+"</span><span color='#00FFFF'>{AIALLIES}</span></b>
<b><span color='#00E600'>"+_"Human controller/s"+": "+"</span><span color='#00FFFF'>{AIPLAYER}</span></b>

<b>"+_"Leader AI Controller"+" → "+"</b>"+_"Let you or any human player control any allied AI Leader, giving different orders with right click."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{AILEADER}</span></b>
<b><span color='#00E600'>"+_"Last side was applied to"+": "+"</span><span color='#00FFFF'>{AIALLY}</span></b>
<b><span color='#00E600'>"+_"Last human controller/s"+": "+"</span><span color='#00FFFF'>{AIPLAYERLEADER}</span></b>
<b><span color='#00E600'>"+_"Gold to engage combat"+":</span> <span color='#00FFFF'>"+_"Less than"+" $aww_ai_leader_gold</span></b>"+"

<b>"+_"Unit AI Controller"+" → "+"</b>"+_"Let you or any human player control any allied AI Unit, giving different orders with right click."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>$aww_21_ai_unit_controller</span></b>
<b><span color='#00E600'>"+_"Controlled side/s"+": "+"</span><span color='#00FFFF'>$aww_controlled_unit_sides</span></b>
<b><span color='#00E600'>"+_"Last unit was applied to"+": "+"</span><span color='#00FFFF'>$aww_last_ai_unit_controlled</span></b>
<b><span color='#00E600'>"+_"Human controller/s"+": "+"</span><span color='#00FFFF'>$aww_controller_unit_sides</span></b>
<b><span color='#00E600'>"+_"Method of indications"+": "+"</span><span color='#00FFFF'>$aww_float_or_label</span></b>        "_"(<span color='#00FFFF'>float</span> = Float text, <span color='#00FFFF'>label</span> = Labels, <span color='#00FFFF'>no</span> = None)"+"

<b>"+_"Side Controller"+" → "+"</b>"+_"Let anyone change the controller of any side, whether to human or AI."+"
<b><span color='#00E600'>"+_"Last side was applied to"+": "+"</span><span color='#00FFFF'>$aww_droid_side</span></b>"
            image="misc/aww-tools-icon.png"
            [option]
                image=misc/aww-arrow.png
                label=_"Setup Side AI Controller"
                [command]
                    [message]
                        speaker=narrator
                        message=_"<b>Instructions:</b>
Choose the side/s on which you want to activate Side AI Controller. Can be a comma-separated list.

Read the instructions inside the menu selecting any unit of that side. Keep in mind that this only modifies agression, caution, and the tendency to protect their wounded units; they will not blindly follow your orders. Only applies to allied sides, so if an ally becomes your enemy you will no longer be able to control it, and viceversa. If you need more help on its functions, read the documentation and the Wesnoth forum.

This setup will rebuild all Side AI Controllers, so don't forget to put all sides every time you do the setup, separated with commas. In the next step you will have to choose the human players that will control that side/s.

- <i>Deactivate</i> will remove Side AI Controller for all sides."+"

"
                        image="misc/aww-tools-icon.png"
                        [text_input]
                            label=_"Controlled side/s (Example: 2,4,5)"
                            variable=aww_ai_allies
                            max_length=100
                            text=$aww_ai_allies
                        [/text_input]
                        [option]
                            image=misc/aww-arrow.png
                            label="<i>"+_"Choose the human controller/s"+"</i>"
                            default=yes
                            [command]
                                [message]
                                    speaker=narrator
                                    message=_"Choose the side/s of the human controller/s. Can be a comma-separated list. In campaigns the player usually is side 1."
                                    image="misc/aww-tools-icon.png"
                                    [text_input]
                                        label=_"Controller side/s (Example: 1,3,6)"
                                        variable=aww_ai_player
                                        max_length=100
                                        text=$aww_ai_player
                                    [/text_input]
                                    [option]
                                        image=misc/aww-arrow.png
                                        label="<i>"+_"Activate"+"</i>"
                                        [command]
                                            [set_variable]
                                                name=aww_21_ai_controller
                                                value=yes
                                            [/set_variable]
                                            [remove_event]
                                                id=aww_21_side_controller
                                            [/remove_event]
                                            {CLEAR_VARIABLE ai_controller,ai_controller_aww}
                                            {AWW_AI_CONTROLLER aww $aww_ai_player $aww_ai_allies ()}
                                            [fire_event]
                                                name=aww_21_ai_controller_event
                                            [/fire_event]
                                            [print]
                                                text=_"AI Controller"+" → "+_"Applied on side/s $aww_ai_allies"
                                                size=24
                                                duration=5000
                                                color=0,255,255
                                            [/print]
                                        [/command]
                                    [/option]
                                    {BACK_AND_EXIT}
                                [/message]
                            [/command]
                        [/option]
                        [option]
                            image=misc/aww-arrow.png
                            label="<i>"+_"Deactivate"+"</i>"
                            [command]
                                [set_variable]
                                    name=aww_21_ai_controller
                                    value=no
                                [/set_variable]
                                [remove_event]
                                    id=aww_21_side_controller
                                [/remove_event]
                                {CLEAR_VARIABLE ai_controller,ai_controller_aww}
                                [print]
                                    text=_"Side AI Controller"+" → "+_"Deactivated"
                                    size=24
                                    duration=5000
                                    color=0,255,255
                                [/print]
                            [/command]
                        [/option]
                        [option]
                            image="misc/aww-back.png"
                            label=_"Back to help menu"
                            [command]
                                [fire_event]
                                    name=aww_help_menu
                                [/fire_event]
                            [/command]
                        [/option]
                        [option]
                            image="misc/aww-exit.png"
                            label="<b>"+_"Exit"+"</b>"
                            [command]
                            [/command]
                        [/option]
                    [/message]
                [/command]
            [/option]
            [option]
                image=misc/aww-arrow.png
                label=_"Setup Leader AI Controller"
                [command]
                    [message]
                        speaker=narrator
                        message=_"<b>Instructions:</b>
Choose the side on which you want to activate Leader AI Controller.

With 'move here' on any free hex, the leader will try to reach that position until it gets there or as close as possible if the hex is occupied. With 'Cancel order' you can cancel move order and return control to the AI. With 'not to move' the leader will stay stationary no matter the situation, and with 'Allow' will be able to move again. The 'engage combat' option will order the leader to engage when its gold drops below <span color='#00FFFF'>$aww_ai_leader_gold</span>, and will increase his aggressiveness. You can reverse the order with 'take refuge in a keep', and the leader will try to reach the nearest free keep.
The leaders will blindly follow your orders no matter the danger they are exposed to, be careful. Only applies to allied leaders, so if an ally becomes your enemy you will no longer be able to control it, and viceversa.

You can set different leaders doing the setup again with another side. The side must have a defined leader or at least one unit that can recruit or it won't work. In the next step you will have to choose the human players that will control that Leader.

- <i>Change amount of gold</i> to choose the amount of gold below which the leader will start engaging in combat if they have been ordered to do so.
- <i>Deactivate</i> will remove Leader AI Controller for all sides."+"

"
                        image="misc/aww-tools-icon.png"
                        [text_input]
                            label=_"Leader side"
                            variable=aww_ai_ally
                            max_length=2
                            text=$aww_ai_ally
                        [/text_input]
                        [option]
                            image=misc/aww-arrow.png
                            label="<i>"+_"Choose the human controller/s"+"</i>"
                            default=yes
                            [command]
                                [message]
                                    speaker=narrator
                                    message=_"Choose the side/s of the human controller/s. Can be a comma-separated list. In campaigns the player usually is side 1."
                                    image="misc/aww-tools-icon.png"
                                    [text_input]
                                        label=_"Controller sides (Example: 1,3,6)"
                                        variable=aww_ai_player_leader
                                        max_length=100
                                        text=$aww_ai_player_leader
                                    [/text_input]
                                    [option]
                                        image=misc/aww-arrow.png
                                        label="<i>"+_"Activate"+"</i>"
                                        [command]
                                            [store_side]
                                                side=$aww_ai_ally
                                                variable=pre_stored_side
                                            [/store_side]
                                            [if]
                                                [have_unit]
                                                    side=$aww_ai_ally
                                                    id=$pre_stored_side.save_id
                                                [/have_unit]
                                                [then]
                                                    {VARIABLE ai_leader $pre_stored_side.save_id}
                                                [/then]
                                                [else]
                                                    [store_unit]
                                                        [filter]
                                                            side=$aww_ai_ally
                                                            canrecruit=yes
                                                        [/filter]
                                                        variable=pre_stored_leader
                                                    [/store_unit]
                                                    {VARIABLE ai_leader $pre_stored_leader[0].id}
                                                [/else]
                                            [/if]
                                            [if]
                                                [have_unit]
                                                    side=$aww_ai_ally
                                                    id=$ai_leader
                                                [/have_unit]
                                                [then]
                                                    [set_variable]
                                                        name=aww_21_ai_leader_controller
                                                        value=yes
                                                    [/set_variable]
                                                    {AI_CONTROLLER_ALLOW_MOVEMENT_CONTROL $ai_leader $aww_ai_ally}
                                                    [fire_event]
                                                        name=aww_21_ai_leader_event
                                                    [/fire_event]
                                                    [print]
                                                        text=_"Leader AI Controller"+" → "+_"Applied on $ai_leader"
                                                        size=24
                                                        duration=5000
                                                        color=0,255,255
                                                    [/print]
                                                [/then]
                                                [else]
                                                    [print]
                                                        text=_"Leader AI Controller"+" → "+_"Can't be applied on side $aww_ai_ally"
                                                        size=24
                                                        duration=5000
                                                        color=255,0,0
                                                    [/print]
                                                [/else]
                                            [/if]
                                            {CLEAR_VARIABLE pre_stored_side,pre_stored_leader,ai_leader}
                                        [/command]
                                    [/option]
                                    {BACK_AND_EXIT}
                                [/message]
                            [/command]
                        [/option]
                        [option]
                            image=misc/aww-arrow.png
                            label="<i>"+_"Change amount of gold"+"</i>"
                            [command]
                                [message]
                                    speaker=narrator
                                    message=_"Choose the amount of gold below which the leader will start engaging in combat if have been ordered to do so."
                                    image="misc/aww-tools-icon.png"
                                    [text_input]
                                        label=_"Min"+" -999 / "+_"Max"+" 9999"
                                        variable=aww_ai_leader_gold
                                        max_length=4
                                        text=$aww_ai_leader_gold
                                    [/text_input]
                                    [option]
                                        image=misc/aww-arrow.png
                                        label="<i>"+_"Set"+"</i>"
                                        [command]
                                            [fire_event]
                                                name=aww_help_menu
                                            [/fire_event]
                                        [/command]
                                    [/option]
                                    {BACK_AND_EXIT}
                                [/message]
                            [/command]
                        [/option]
                        [option]
                            image=misc/aww-arrow.png
                            label="<i>"+_"Deactivate"+"</i>"
                            [command]
                                [set_variable]
                                    name=aww_21_ai_leader_controller
                                    value=no
                                [/set_variable]
                                [store_side]
                                    variable=pre_stored_side
                                [/store_side]
                                {VARIABLE number 0}
                                [repeat]
                                    times=$pre_stored_side.length
                                    [do]
                                        {VARIABLE_OP number add 1}
                                        [remove_event]
                                            id=aww_21_ai_leader_$number,aww_21_ai_leader_turn_$number
                                        [/remove_event]
                                        [clear_menu_item]
                                            id=leader_control_option_$number|_freeze_on,leader_control_option_$number|_freeze_off,leader_control_option_$number|_target_on,leader_control_option_$number|_target_off,leader_control_option_$number|_engage,leader_control_option_$number|_disengage
                                        [/clear_menu_item]
                                        {REMOVE_MOVEMENT_TARGET $number }
                                        {CLEAR_AI_ALWAYS_ASPECT_LEADER_GOAL $number }
                                    [/do]
                                [/repeat]
                                [remove_object]
                                    [filter_wml]
                                        [variables]
                                            ai_leader=yes
                                        [/variables]
                                    [/filter_wml]
                                    object_id=aww_freezer
                                [/remove_object]
                                [print]
                                    text=_"Leader AI Controller"+" → "+_"Deactivated"
                                    size=24
                                    duration=5000
                                    color=0,255,255
                                [/print]
                            [/command]
                        [/option]
                        [option]
                            image="misc/aww-back.png"
                            label=_"Back to help menu"
                            [command]
                                [fire_event]
                                    name=aww_help_menu
                                [/fire_event]
                            [/command]
                        [/option]
                        [option]
                            image="misc/aww-exit.png"
                            label="<b>"+_"Exit"+"</b>"
                            [command]
                            [/command]
                        [/option]
                    [/message]
                [/command]
            [/option]
            [option]
                image=misc/aww-arrow.png
                label=_"Setup Unit AI Controller"
                [command]
                    [message]
                        speaker=narrator
                        message=_"<b>Instructions:</b>
Choose the side/s of the AI Units you want to control. Can be a comma-separated list.

A 'Give orders' menu with right click on any allied AI unit of the chosen side/s will be created, where you can give him the ability to receive orders. Once the orders are activated, with 'move here' on any hex the unit will try go to that hex, or to an adjacent hex if it is already occupied by another unit. If all the adjacent hexes of the destination are fully occupied, he will still hold the objective. Only the last order received will be taken into account. With 'not to move' the unit will stay stationary until you 'Allow' him to move again. You can remove the contextual menu orders for any unit and cancel all current orders with 'Remove'.
This have the same rules as Leader AI Controller, but using Unit AI on leaders is less reliable. There is no limit to the number of units you can control at the same time, but that will fill up your contextual options menu.

Each time you run this setup, the controlled and controller sides that will receive the menu for assigning orders will change, but the previous sides will not lose their assigned orders and will still be able to interact with controlled units until they manually remove their orders. In the next step you will have to choose the human players that will control that Unit AI side/s.

- <i>Change method of indications</i> allows you to choose if you want a floating text or a fixed label to indicate destinations.
- <i>Deactivate</i> will remove the capability to control more units, but you need to remove Unit AI Controller for existent controlled units individually."+"

"
                        image="misc/aww-tools-icon.png"
                        [text_input]
                            label=_"Controlled side/s (Example: 2,4,5)"
                            variable=aww_controlled_unit_sides
                            max_length=100
                            text=$aww_controlled_unit_sides
                        [/text_input]
                        [option]
                            image=misc/aww-arrow.png
                            label="<i>"+_"Choose the human controller/s"+"</i>"
                            default=yes
                            [command]
                                [message]
                                    speaker=narrator
                                    message=_"Choose the side/s of the human controller/s. Can be a comma-separated list. In campaigns the player usually is side 1."
                                    image="misc/aww-tools-icon.png"
                                    [text_input]
                                        label=_"Controller sides (Example: 1,3,6)"
                                        variable=aww_controller_unit_sides
                                        max_length=100
                                        text=$aww_controller_unit_sides
                                    [/text_input]
                                    [option]
                                        image=misc/aww-arrow.png
                                        label="<i>"+_"Activate"+"</i>"
                                        [command]
                                            [set_variable]
                                                name=aww_21_ai_unit_controller
                                                value=yes
                                            [/set_variable]
                                            [set_menu_item]
                                                id=aww_ai_unit_controller
                                                description=_"Give orders to this unit"
                                                synced=yes
                                                image=leader_order_icon.png~SCALE(18,18)
                                                [show_if]
                                                    [have_unit]
                                                        id=$unit.id
                                                        side=$aww_controlled_unit_sides
                                                        [filter_side]
                                                            [allied_with]
                                                                side=$aww_controller_unit_sides
                                                            [/allied_with]
                                                        [/filter_side]
                                                    [/have_unit]
                                                    {VARIABLE_CONDITIONAL unit.variables.ai_controlled not_equals yes}
                                                [/show_if]
                                                [command]
                                                    {AWW_AI_CONTROLLER_ALLOW_UNIT_CONTROL}
                                                    [modify_unit]
                                                        [filter]
                                                            id=$unit.id
                                                        [/filter]
                                                        [set_variable]
                                                            name=ai_controlled
                                                            value=yes
                                                        [/set_variable]
                                                    [/modify_unit]
                                                    {VARIABLE aww_last_ai_unit_controlled $unit.name}
                                                    [fire_event]
                                                        name=ai_controller_unit_event
                                                    [/fire_event]
                                                [/command]
                                            [/set_menu_item]
                                            [print]
                                                text=_"Unit AI Controller"+" → "+_"Applied on side/s $aww_controlled_unit_sides"
                                                size=24
                                                duration=5000
                                                color=0,255,255
                                            [/print]
                                        [/command]
                                    [/option]
                                    {BACK_AND_EXIT}
                                [/message]
                            [/command]
                        [/option]
                        [option]
                            image=misc/aww-arrow.png
                            label="<i>"+_"Change method of indications"+"</i>"
                            [command]
                                [message]
                                    speaker=narrator
                                    message=_"<b>Instructions:</b>
Choose the method in which you want to see the indications of where each unit is going. A floating text will always appear at the destination you mark a unit to the moment you do so, regardless of the options you set.

- <i>Float text</i> will show a floating text every time the unit moves, in the destination that he tries to go to, which message will change if it finally reaches the destination, or is canceled its movement due to the impossibility of reaching. This is the default option.
- <i>Labels</i> will set a label where the unit tries to go with his name. If the unit reaches it or stays in an adjacent hex because it is occupied by another unit, the label will disappear. All labels can be deleted manually.
- <i>Deactivate</i> will turn off all indications."
                                    image="misc/aww-tools-icon.png"
                                    [option]
                                        image=misc/aww-arrow.png
                                        label="<i>"+_"Float text"+"</i>"
                                        [command]
                                            [set_variable]
                                                name=aww_float_or_label
                                                value=float
                                            [/set_variable]
                                            [print]
                                                text=_"Method of indications"+" → "+_"Float text"
                                                size=24
                                                duration=5000
                                                color=0,255,255
                                            [/print]
                                        [/command]
                                    [/option]
                                    [option]
                                        image=misc/aww-arrow.png
                                        label="<i>"+_"Labels"+"</i>"
                                        [command]
                                            [set_variable]
                                                name=aww_float_or_label
                                                value=label
                                            [/set_variable]
                                            [print]
                                                text=_"Method of indications"+" → "+_"Labels"
                                                size=24
                                                duration=5000
                                                color=0,255,255
                                            [/print]
                                        [/command]
                                    [/option]
                                    [option]
                                        image=misc/aww-arrow.png
                                        label="<i>"+_"Deactivate"+"</i>"
                                        [command]
                                            [set_variable]
                                                name=aww_float_or_label
                                                value=no
                                            [/set_variable]
                                            [print]
                                                text=_"Method of indications"+" → "+_"None"
                                                size=24
                                                duration=5000
                                                color=255,0,0
                                            [/print]
                                        [/command]
                                    [/option]
                                    {BACK_AND_EXIT}
                                [/message]
                            [/command]
                        [/option]
                        [option]
                            image=misc/aww-arrow.png
                            label="<i>"+_"Deactivate"+"</i>"
                            [command]
                                [set_variable]
                                    name=aww_21_ai_unit_controller
                                    value=no
                                [/set_variable]
                                [clear_menu_item]
                                    id=aww_ai_unit_controller
                                [/clear_menu_item]
                                [print]
                                    text=_"Unit AI Controller"+" → "+_"Deactivated"
                                    size=24
                                    duration=5000
                                    color=255,0,0
                                [/print]
                            [/command]
                        [/option]
                        [option]
                            image="misc/aww-back.png"
                            label=_"Back to help menu"
                            [command]
                                [fire_event]
                                    name=aww_help_menu
                                [/fire_event]
                            [/command]
                        [/option]
                        [option]
                            image="misc/aww-exit.png"
                            label="<b>"+_"Exit"+"</b>"
                            [command]
                            [/command]
                        [/option]
                    [/message]
                [/command]
            [/option]
            [option]
                image=misc/aww-arrow.png
                label=_"Change Side Controller"
                [command]
                    [message]
                        speaker=narrator
                        message=_"<b>Instructions:</b>
Choose the side which you want to switch control to, and choose if you want change to AI or human. It has an effect similar to <b>:droid $aww_droid_side full</b> and <b>:droid $aww_droid_side off</b>, respectively. This change will take effect immediately if you are the one controlling that side, and in the case of the AI, it will do all remaining moves from then on.

Keep in mind that if the only surviving sides of a campaign scenario has been given to the AI, the game will not advance to the next scenario of the campaign and you won't be able to do anything except write to the chat or console. This feature is not intended to be used in multiplayer, where you can already choose each side's controller individually, and may have unwanted interactions.
If you prefer to avoid this problem, you have three ways:
- Choose the option to change to AI only for this turn.
- Write directly in console <b>:droid $aww_droid_side on</b> instead of full to continue as observer.
- Write <b>:droid $aww_droid_side off</b> to regain control of the side if you can't use the contextual menu."+"

"
                        image="misc/aww-tools-icon.png"
                        [text_input]
                            label=_"Side"
                            variable=aww_droid_side
                            max_length=99
                            text=$aww_droid_side
                        [/text_input]
                        [option]
                            image=misc/aww-arrow.png
                            label="<i>"+_"To human"+"</i>"
                            [command]
                                [modify_side]
                                    side=$aww_droid_side
                                    controller=human
                                [/modify_side]
                                [print]
                                    text=_"Side $aww_droid_side controller to"+" → "+_"human"
                                    size=24
                                    duration=5000
                                    color=0,255,255
                                [/print]
                            [/command]
                        [/option]
                        [option]
                            image=misc/aww-arrow.png
                            label="<i>"+_"To AI"+"</i>"
                            [command]
                                [modify_side]
                                    side=$aww_droid_side
                                    controller=ai
                                [/modify_side]
                                [print]
                                    text=_"Side $aww_droid_side controller to"+" → "+_"AI"
                                    size=24
                                    duration=5000
                                    color=0,255,255
                                [/print]
                            [/command]
                        [/option]
                        [option]
                            image=misc/aww-arrow.png
                            label="<i>"+_"To AI only this turn"+"</i>"
                            [command]
                                [modify_side]
                                    side=$aww_droid_side
                                    controller=ai
                                [/modify_side]
                                [event]
                                    name=side $side_number turn $turn_number end
                                    [modify_side]
                                        side=$aww_droid_side
                                        controller=human
                                    [/modify_side]
                                    [print]
                                        text=_"Side $aww_droid_side controller to"+" → "+_"human"
                                        size=24
                                        duration=5000
                                        color=0,255,255
                                    [/print]
                                [/event]
                                [print]
                                    text=_"Side $aww_droid_side controller to"+" → "+_"AI (This turn)"
                                    size=24
                                    duration=5000
                                    color=0,255,255
                                [/print]
                            [/command]
                        [/option]
                        {BACK_AND_EXIT}
                    [/message]
                [/command]
            [/option]
            [option]
                image=misc/aww-arrow.png
                label=_"Move Setup AI Controller to Main menu"
                [show_if]
                    {VARIABLE_CONDITIONAL aww_ai_menu not_equals yes}
                [/show_if]
                [command]
                    {VARIABLE aww_ai_menu yes}
                    [fire_event]
                        name=aww_help_menu
                    [/fire_event]
                [/command]
            [/option]
            [option]
                image=misc/aww-arrow.png
                label=_"Move Setup AI Controller to Tools menu"
                [show_if]
                    {VARIABLE_CONDITIONAL aww_ai_menu equals yes}
                [/show_if]
                [command]
                    {VARIABLE aww_ai_menu no}
                    [fire_event]
                        name=aww_help_menu
                    [/fire_event]
                [/command]
            [/option]
            {BACK_AND_EXIT}
        [/message]
    [/command]
#enddef

#define AWW_TOOLS FASTAI SIDE POISON REST RECALL COMBAT KILLING BASE INCOME SUPPORT LABEL
    [store_side]
        side=$side_number
        variable=side_color
    [/store_side]
    [message]
        speaker=narrator
        message=_"<i><b>NOTE: Changing default values on some scenarios can interfere with other custom settings. Reset to default will revert to the main game default values, and will return to the custom values in the next scenario, if that's the case. Some changes only take effect on next scenario, but all values changed remains between scenarios (except AI tools and side colors) until you restore them to default.</b></i>"
        side_for=$side_number
        image="misc/aww-tools-icon.png"
        [option]
            image="misc/aww-import.png"
            label=_"Import and export units"
            [command]
                {AWW_IMPORT $aww_21_dugi_mubw}
            [/command]
        [/option]
        [option]
            image=misc/aww-flag-green.png~RC(flag_green>$side_color.color)
            label= _"Change Side Color"
            [command]
                [message]
                    speaker=narrator
                    message="<b>"+_"Change Side Color"+" → "+"</b>"+_"Change the color of any side in play."
                    image=misc/aww-flag-big.png
                    [text_input]
                        label=_"Choose side"
                        variable=aww_tools_side
                        max_length=2
                        text=$side_number
                    [/text_input]
                    [option]
                        label="<i>"+_"Change color"+"</i>"
                        image=misc/aww-flag-green.png~RC(flag_green>$side_color.color)
                        [command]
                            [message]
                                speaker=narrator
                                message=_"Choose the color to which you will change the side <span color='#00E600'>$aww_tools_side</span>."
                                image=misc/aww-flag-big.png
                                #textdomain wesnoth
                                [option]
                                    label="<i>"+_"Dark Red"+"</i>"
                                    image=misc/aww-flag-green.png~RC(flag_green>darkred)
                                    [command]
                                        [lua]
                                            code=<<
												local side = wml.variables["aww_tools_side"]
												wesnoth.set_side_id(side,"","darkred")
											>>
                                        [/lua]
                                        #textdomain aww
                                        [print]
                                            text=_"Changed color of side $aww_tools_side to darkred"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                #textdomain wesnoth
                                [option]
                                    label="<i>"+_"Red"+"</i>"
                                    image=misc/aww-flag-green.png~RC(flag_green>red)
                                    [command]
                                        [lua]
                                            code=<<
												local side = wml.variables["aww_tools_side"]
												wesnoth.set_side_id(side,"","red")
											>>
                                        [/lua]
                                        #textdomain aww
                                        [print]
                                            text=_"Changed color of side $aww_tools_side to red"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                #textdomain wesnoth
                                [option]
                                    label="<i>"+_"Light Red"+"</i>"
                                    image=misc/aww-flag-green.png~RC(flag_green>lightred)
                                    [command]
                                        [lua]
                                            code=<<
												local side = wml.variables["aww_tools_side"]
												wesnoth.set_side_id(side,"","lightred")
											>>
                                        [/lua]
                                        #textdomain aww
                                        [print]
                                            text=_"Changed color of side $aww_tools_side to lightred"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                #textdomain wesnoth
                                [option]
                                    label="<i>"+_"Purple"+"</i>"
                                    image=misc/aww-flag-green.png~RC(flag_green>purple)
                                    [command]
                                        [lua]
                                            code=<<
												local side = wml.variables["aww_tools_side"]
												wesnoth.set_side_id(side,"","purple")
											>>
                                        [/lua]
                                        #textdomain aww
                                        [print]
                                            text=_"Changed color of side $aww_tools_side to purple"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                #textdomain wesnoth
                                [option]
                                    label="<i>"+_"Dark blue"+"</i>"
                                    image=misc/aww-flag-green.png~RC(flag_green>darkblue)
                                    [command]
                                        [lua]
                                            code=<<
												local side = wml.variables["aww_tools_side"]
												wesnoth.set_side_id(side,"","darkblue")
											>>
                                        [/lua]
                                        #textdomain aww
                                        [print]
                                            text=_"Changed color of side $aww_tools_side to darkblue"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                #textdomain wesnoth
                                [option]
                                    label="<i>"+_"Blue"+"</i>"
                                    image=misc/aww-flag-green.png~RC(flag_green>blue)
                                    [command]
                                        [lua]
                                            code=<<
												local side = wml.variables["aww_tools_side"]
												wesnoth.set_side_id(side,"","blue")
											>>
                                        [/lua]
                                        #textdomain aww
                                        [print]
                                            text=_"Changed color of side $aww_tools_side to blue"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                #textdomain wesnoth
                                [option]
                                    label="<i>"+_"Light blue"+"</i>"
                                    image=misc/aww-flag-green.png~RC(flag_green>lightblue)
                                    [command]
                                        [lua]
                                            code=<<
												local side = wml.variables["aww_tools_side"]
												wesnoth.set_side_id(side,"","lightblue")
											>>
                                        [/lua]
                                        #textdomain aww
                                        [print]
                                            text=_"Changed color of side $aww_tools_side to lightblue"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                #textdomain wesnoth
                                [option]
                                    label="<i>"+_"Teal"+"</i>"
                                    image=misc/aww-flag-green.png~RC(flag_green>teal)
                                    [command]
                                        [lua]
                                            code=<<
												local side = wml.variables["aww_tools_side"]
												wesnoth.set_side_id(side,"","teal")
											>>
                                        [/lua]
                                        #textdomain aww
                                        [print]
                                            text=_"Changed color of side $aww_tools_side to teal"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                #textdomain wesnoth
                                [option]
                                    label="<i>"+_"Green"+"</i>"
                                    image=misc/aww-flag-green.png
                                    [command]
                                        [lua]
                                            code=<<
												local side = wml.variables["aww_tools_side"]
												wesnoth.set_side_id(side,"","green")
											>>
                                        [/lua]
                                        #textdomain aww
                                        [print]
                                            text=_"Changed color of side $aww_tools_side to green"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                #textdomain wesnoth
                                [option]
                                    label="<i>"+_"Bright green"+"</i>"
                                    image=misc/aww-flag-green.png~RC(flag_green>brightgreen)
                                    [command]
                                        [lua]
                                            code=<<
												local side = wml.variables["aww_tools_side"]
												wesnoth.set_side_id(side,"","brightgreen")
											>>
                                        [/lua]
                                        #textdomain aww
                                        [print]
                                            text=_"Changed color of side $aww_tools_side to brightgreen"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                #textdomain wesnoth
                                [option]
                                    label="<i>"+_"Brown"+"</i>"
                                    image=misc/aww-flag-green.png~RC(flag_green>brown)
                                    [command]
                                        [lua]
                                            code=<<
												local side = wml.variables["aww_tools_side"]
												wesnoth.set_side_id(side,"","brown")
											>>
                                        [/lua]
                                        #textdomain aww
                                        [print]
                                            text=_"Changed color of side $aww_tools_side to brown"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                #textdomain wesnoth
                                [option]
                                    label="<i>"+_"Orange"+"</i>"
                                    image=misc/aww-flag-green.png~RC(flag_green>orange)
                                    [command]
                                        [lua]
                                            code=<<
												local side = wml.variables["aww_tools_side"]
												wesnoth.set_side_id(side,"","orange")
											>>
                                        [/lua]
                                        #textdomain aww
                                        [print]
                                            text=_"Changed color of side $aww_tools_side to orange"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                #textdomain wesnoth
                                [option]
                                    label="<i>"+_"Bright orange"+"</i>"
                                    image=misc/aww-flag-green.png~RC(flag_green>brightorange)
                                    [command]
                                        [lua]
                                            code=<<
												local side = wml.variables["aww_tools_side"]
												wesnoth.set_side_id(side,"","brightorange")
											>>
                                        [/lua]
                                        #textdomain aww
                                        [print]
                                            text=_"Changed color of side $aww_tools_side to brightorange"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                #textdomain wesnoth
                                [option]
                                    label="<i>"+_"color^Gold"+"</i>"
                                    image=misc/aww-flag-green.png~RC(flag_green>gold)
                                    [command]
                                        [lua]
                                            code=<<
												local side = wml.variables["aww_tools_side"]
												wesnoth.set_side_id(side,"","gold")
											>>
                                        [/lua]
                                        #textdomain aww
                                        [print]
                                            text=_"Changed color of side $aww_tools_side to gold"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                #textdomain wesnoth
                                [option]
                                    label="<i>"+_"White"+"</i>"
                                    image=misc/aww-flag-green.png~RC(flag_green>white)
                                    [command]
                                        [lua]
                                            code=<<
												local side = wml.variables["aww_tools_side"]
												wesnoth.set_side_id(side,"","white")
											>>
                                        [/lua]
                                        #textdomain aww
                                        [print]
                                            text=_"Changed color of side $aww_tools_side to white"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                #textdomain wesnoth
                                [option]
                                    label="<i>"+_"Black"+"</i>"
                                    image=misc/aww-flag-green.png~RC(flag_green>black)
                                    [command]
                                        [lua]
                                            code=<<
												local side = wml.variables["aww_tools_side"]
												wesnoth.set_side_id(side,"","black")
											>>
                                        [/lua]
                                        #textdomain aww
                                        [print]
                                            text=_"Changed color of side $aww_tools_side to black"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                {BACK_AND_EXIT}
                            [/message]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-labels.png
            label= _"Custom Labels"
            [command]
                [message]
                    speaker=narrator
                    message="<b>"+_"Custom Labels"+" → "+"</b>"+_"Allows players to create labels with custom color and category anywhere with right click."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{LABEL}</span></b>"
                    image=misc/aww-labels-big.png
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_20_custom_labels
                                value=yes
                            [/set_variable]
                            [fire_event]
                                name=aww_20_labels
                            [/fire_event]
                            [print]
                                text=_"Custom Labels"+" → "+_"Set to"+": $aww_20_custom_labels"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+"</i>"
                        [command]
                            [set_variable]
                                name=aww_20_custom_labels
                                value=no
                            [/set_variable]
                            [clear_menu_item]
                                id=wwa_color_labels
                            [/clear_menu_item]
                            [print]
                                text=_"Custom Labels"+" → "+_"Set to"+": $aww_20_custom_labels"
                                size=24
                                duration=5000
                                color=255,0,0
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-random-colors.png
            label= _"Random Colors"
            [command]
                [while]
                    {VARIABLE_CONDITIONAL aww_recolor_menu not_equals yes}
                    [do]
                        [message]
                            speaker=narrator
                            message="<b>"+_"Random Colors"+" → "+"</b>"+_"All units wil have a random recolor. You can select the ranges of color and opacity in which the random tint will be applied over the original colors of the unit, with greater intensity the more opacity it has. You can reset the colors as many times as you want without leaving the menu, to obtain the desired colors."+"

<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>$aww_21_recolor</span></b>
<b><span color='#FF0000'>"+_"Red tint range"+": "+"</span><span color='#00FFFF'>$aww_r_min - $aww_r_max</span></b>
<b><span color='#00FF00'>"+_"Green tint range"+": "+"</span><span color='#00FFFF'>$aww_g_min - $aww_g_max</span></b>
<b><span color='#0000FF'>"+_"Blue tint range"+": "+"</span><span color='#00FFFF'>$aww_b_min - $aww_b_max</span></b>
<b><span color='#FFFFFF'>"+_"Opacity tint range"+": "+"</span><span color='#00FFFF'>$aww_o_min% - $aww_o_max%</span></b>"
                            image=misc/aww-random-colors-big.png
                            [option]
                                image=misc/aww-arrow.png
                                label="<i>"+_"Activate"+"</i>"
                                [command]
                                    [set_variable]
                                        name=aww_21_recolor
                                        value=yes
                                    [/set_variable]
                                    [fire_event]
                                        name=aww_21_recolor
                                    [/fire_event]
                                    [print]
                                        text=_"Random Colors"+" → "+_"Set to"+": $aww_21_recolor"
                                        size=24
                                        duration=5000
                                        color=0,255,255
                                    [/print]
                                    {VARIABLE aww_recolor_menu yes}
                                [/command]
                            [/option]
                            [option]
                                image=misc/aww-arrow.png
                                label="<i>"+_"Reset all colors"+"</i>"
                                [command]
                                    [if]
                                        [variable]
                                            name=aww_21_recolor
                                            equals=yes
                                        [/variable]
                                        [then]
                                            [set_variable]
                                                name=aww_21_recolor
                                                value=yes
                                            [/set_variable]
                                            [fire_event]
                                                name=aww_21_recolor_off
                                            [/fire_event]
                                            [fire_event]
                                                name=aww_21_recolor
                                            [/fire_event]
                                            [print2]
                                                text=_"Random Colors"+" → "+_"Set to"+": $aww_21_recolor "+"(Reset)"
                                                size=24
                                                duration=5000
                                                color=0,255,255
                                            [/print2]
                                        [/then]
                                        [else]
                                            [print2]
                                                text=_"Random Colors deactivated. Activate it first."
                                                size=24
                                                duration=5000
                                                color=255,0,0
                                            [/print2]
                                        [/else]
                                    [/if]
                                [/command]
                            [/option]
                            [option]
                                image=misc/aww-arrow.png
                                label="<i>"+_"Change range of color and opacity"+"</i>"
                                [command]
                                    [message]
                                        speaker=narrator
                                        message=_"Choose the parameter you want to change the value of."
                                        image=misc/aww-random-colors-big.png
                                        [option]
                                            image=misc/aww-arrow.png
                                            label="<i>"+_"Red tint range values"+"</i>"
                                            [command]
                                                [message]
                                                    speaker=narrator
                                                    message=_"Choose the minimum value of the red tint to apply."+" "+_"0 means that no tint of this color will be applied, and 255 that the maximum intensity will be applied."
                                                    [text_input]
                                                        label=_"Range:"+" 0-255"
                                                        variable=aww_r_min
                                                        max_length=3
                                                        text=$aww_r_min
                                                    [/text_input]
                                                    [option]
                                                        image=misc/aww-random-colors.png
                                                        label=_"Continue setting"
                                                        [command]
                                                            [message]
                                                                speaker=narrator
                                                                message=_"Choose the maximum value of the red tint to apply."
                                                                [text_input]
                                                                    label=_"Range:"+" 0-255"
                                                                    variable=aww_r_max
                                                                    max_length=3
                                                                    text=$aww_r_max
                                                                [/text_input]
                                                                [option]
                                                                    image=misc/aww-random-colors.png
                                                                    label=_"Continue setting"
                                                                    [command]
                                                                    [/command]
                                                                [/option]
                                                            [/message]
                                                        [/command]
                                                    [/option]
                                                [/message]
                                            [/command]
                                        [/option]
                                        [option]
                                            image=misc/aww-arrow.png
                                            label="<i>"+_"Green tint range values"+"</i>"
                                            [command]
                                                [message]
                                                    speaker=narrator
                                                    message=_"Choose the minimum value of the green tint to apply."+" "+_"0 means that no tint of this color will be applied, and 255 that the maximum intensity will be applied."
                                                    [text_input]
                                                        label=_"Range:"+" 0-255"
                                                        variable=aww_g_min
                                                        max_length=3
                                                        text=$aww_g_min
                                                    [/text_input]
                                                    [option]
                                                        image=misc/aww-random-colors.png
                                                        label=_"Continue setting"
                                                        [command]
                                                            [message]
                                                                speaker=narrator
                                                                message=_"Choose the maximum value of the green tint to apply."
                                                                [text_input]
                                                                    label=_"Range:"+" 0-255"
                                                                    variable=aww_g_max
                                                                    max_length=3
                                                                    text=$aww_g_max
                                                                [/text_input]
                                                                [option]
                                                                    image=misc/aww-random-colors.png
                                                                    label=_"Continue setting"
                                                                    [command]
                                                                    [/command]
                                                                [/option]
                                                            [/message]
                                                        [/command]
                                                    [/option]
                                                [/message]
                                            [/command]
                                        [/option]
                                        [option]
                                            image=misc/aww-arrow.png
                                            label="<i>"+_"Blue tint range values"+"</i>"
                                            [command]
                                                [message]
                                                    speaker=narrator
                                                    message=_"Choose the minimum value of the blue tint to apply."+" "+_"0 means that no tint of this color will be applied, and 255 that the maximum intensity will be applied."
                                                    [text_input]
                                                        label=_"Range:"+" 0-255"
                                                        variable=aww_b_min
                                                        max_length=3
                                                        text=$aww_b_min
                                                    [/text_input]
                                                    [option]
                                                        image=misc/aww-random-colors.png
                                                        label=_"Continue setting"
                                                        [command]
                                                            [message]
                                                                speaker=narrator
                                                                message=_"Choose the maximum value of the blue tint to apply."
                                                                [text_input]
                                                                    label=_"Range:"+" 0-255"
                                                                    variable=aww_b_max
                                                                    max_length=3
                                                                    text=$aww_b_max
                                                                [/text_input]
                                                                [option]
                                                                    image=misc/aww-random-colors.png
                                                                    label=_"Continue setting"
                                                                    [command]
                                                                    [/command]
                                                                [/option]
                                                            [/message]
                                                        [/command]
                                                    [/option]
                                                [/message]
                                            [/command]
                                        [/option]
                                        [option]
                                            image=misc/aww-arrow.png
                                            label="<i>"+_"Opacity range values"+"</i>"
                                            [command]
                                                [message]
                                                    speaker=narrator
                                                    message=_"Choose the minimum value of the opacity to apply all color tints, in percentaje form. 0 means completely transparent and 100 a full color replacement."
                                                    [text_input]
                                                        label=_"Range:"+" 0-100"
                                                        variable=aww_o_min
                                                        max_length=3
                                                        text=$aww_o_min
                                                    [/text_input]
                                                    [option]
                                                        image=misc/aww-random-colors.png
                                                        label=_"Continue setting"
                                                        [command]
                                                            [message]
                                                                speaker=narrator
                                                                message=_"Choose the maximum value of the opacity, in percentaje form."
                                                                [text_input]
                                                                    label=_"Range:"+" 0-100"
                                                                    variable=aww_o_max
                                                                    max_length=3
                                                                    text=$aww_o_max
                                                                [/text_input]
                                                                [option]
                                                                    image=misc/aww-random-colors.png
                                                                    label=_"Continue setting"
                                                                    [command]
                                                                    [/command]
                                                                [/option]
                                                            [/message]
                                                        [/command]
                                                    [/option]
                                                [/message]
                                            [/command]
                                        [/option]
                                        [option]
                                            image=misc/aww-random-colors.png
                                            label=_"Continue setting"
                                            default=yes
                                            [command]
                                            [/command]
                                        [/option]
                                        [option]
                                            image=misc/aww-back.png
                                            label="<b>"+_"Back to help menu"+"</b>"
                                            [command]
                                                {VARIABLE aww_recolor_menu yes}
                                                [fire_event]
                                                    name=aww_help_menu
                                                [/fire_event]
                                            [/command]
                                        [/option]
                                    [/message]
                                [/command]
                            [/option]
                            [option]
                                image=misc/aww-arrow.png
                                label="<i>"+_"Deactivate"+"</i>"
                                [command]
                                    [set_variable]
                                        name=aww_21_recolor
                                        value=no
                                    [/set_variable]
                                    [fire_event]
                                        name=aww_21_recolor_off
                                    [/fire_event]
                                    [print]
                                        text=_"Random Colors"+" → "+_"Set to"+": $aww_21_recolor"
                                        size=24
                                        duration=5000
                                        color=255,0,0
                                    [/print]
                                    {VARIABLE aww_recolor_menu yes}
                                [/command]
                            [/option]
                            [option]
                                image=misc/aww-back.png
                                label="<b>"+_"Back to help menu"+"</b>"
                                default=yes
                                [command]
                                    {VARIABLE aww_recolor_menu yes}
                                    [fire_event]
                                        name=aww_help_menu
                                    [/fire_event]
                                [/command]
                            [/option]
                        [/message]
                    [/do]
                [/while]
                {CLEAR_VARIABLE aww_recolor_menu}
            [/command]
        [/option]
        [option]
            image="icons/profiles/marksman.png"
            label=_"Setup AI Controllers"
            [show_if]
                {VARIABLE_CONDITIONAL aww_ai_menu not_equals yes}
            [/show_if]
            {AWW_AI_CONTROLLER_MENU $aww_21_ai_controller $aww_ai_player $aww_ai_allies $aww_21_ai_leader_controller $aww_ai_ally $aww_ai_player_leader}
        [/option]
        [option]
            image="misc/aww-ia.png"
            label=_"Temporary Fast AI"
            [command]
                [message]
                    speaker=narrator
                    message="<b>"+_"Temporary Fast AI"+" → "+"</b>"+_"Speeds up the AI turn by temporarily using a less intelligent but much faster AI, for certain large maps with many units, on modest computers. It can be changed at any time, specifying the side to which you want to activate or deactivate, by its number."+"
<b><span color='#00E600'>"+_"Times activated"+": "+"</span><span color='#00FFFF'>{FASTAI}</span></b>
<b><span color='#00E600'>"+_"Last side was applied to"+": "+"</span><span color='#00FFFF'>{SIDE}</span></b>"
                    image="misc/aww-tools-icon.png"
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Activate"+_" (Choose side)"+"</i>"
                        [command]
                            [message]
                                speaker=narrator
                                message=_"Choose the side you want to activate Fast Ai to."
                                image="misc/aww-tools-icon.png"
                                [text_input]
                                    label=_"Max"+" 99"
                                    variable=aww_21_side_number
                                    max_length=2
                                    text=$aww_21_side_number
                                [/text_input]
                                [option]
                                    image=misc/aww-arrow.png
                                    label="<i>"+_"Activate"+"</i>"
                                    [command]
                                        [fire_event]
                                            name=aww_21_fast_ai_on
                                        [/fire_event]
                                        [print]
                                            text=_"Temporary Fast AI"+" → "+_"Last side was applied to"+": $aww_21_side_number"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                {BACK_AND_EXIT}
                            [/message]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Deactivate"+_" (Choose side)"+"</i>"
                        [command]
                            [message]
                                speaker=narrator
                                message=_"Choose the side you want to deactivate Fast Ai to."
                                image="misc/aww-tools-icon.png"
                                [text_input]
                                    label=_"Max"+" 99"
                                    variable=aww_21_side_deactivated
                                    max_length=2
                                    text=$aww_21_side_number
                                [/text_input]
                                [option]
                                    image=misc/aww-arrow.png
                                    label="<i>"+_"Deactivate"+"</i>"
                                    [command]
                                        [fire_event]
                                            name=aww_21_fast_ai_off
                                        [/fire_event]
                                        [print]
                                            text=_"Temporary Fast AI"+" → "+_"Last side was deactivated to"+": $aww_21_side_deactivated"
                                            size=24
                                            duration=5000
                                            color=0,255,255
                                        [/print]
                                    [/command]
                                [/option]
                                {BACK_AND_EXIT}
                            [/message]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=icons/profiles/poison.png
            label= _"Change value of Poison damage"
            [command]
                [message]
                    speaker=narrator
                    message="<b>"+_"Poison damage"+" → "+"</b>"+_"Change the amount of HP that is lost by poison every turn. This doesn't affect cure or slow poison abilities, which will work the same way."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{POISON}</span></b>

"+_"Set value of Poison damage. Must be a positive number, negative will heal instead of damage."
                    image="misc/aww-tools-icon.png"
                    [text_input]
                        label=_"Min"+" -99 / "+_"Max"+" 999"
                        variable=aww_21_poison
                        max_length=3
                        text=$aww_21_poison_real
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [lua]
                                code=<<
									wesnoth.game_config.poison_amount = wml.variables["aww_21_poison"]
								>>
                            [/lua]
                            [set_variable]
                                name=aww_21_poison_set
                                value=yes
                            [/set_variable]
                            [set_variable]
                                name=aww_21_poison_real
                                to_variable=aww_21_poison
                            [/set_variable]
                            [print]
                                text=_"Poison damage"+" → "+_"Set to"+": $aww_21_poison_real"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Reset to default"+"</i>"
                        [command]
                            [lua]
                                code=<<
									wesnoth.game_config.poison_amount = 8
								>>
                            [/lua]
                            [set_variable]
                                name=aww_21_poison_set
                                value=no
                            [/set_variable]
                            [set_variable]
                                name=aww_21_poison_real
                                value=8
                            [/set_variable]
                            [print]
                                text=_"Poison damage"+" → "+_"Set to"+": $aww_21_poison_real "+"("+_"Default"+")"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-rest.png
            label= _"Change value of Rest healing"
            [command]
                [message]
                    speaker=narrator
                    message="<b>"+_"Rest healing"+" → "+"</b>"+_"Change the amount of HP that is recovered by rest every turn."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{REST}</span></b>

"+_"Set value of Rest healing. Must be a positive number, negative will damage instead of heal."
                    image="misc/aww-tools-icon.png"
                    [text_input]
                        label=_"Min"+" -99 / "+_"Max"+" 999"
                        variable=aww_21_rest
                        max_length=3
                        text=$aww_21_rest_real
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [lua]
                                code=<<
									wesnoth.game_config.rest_heal_amount = wml.variables["aww_21_rest"]
								>>
                            [/lua]
                            [set_variable]
                                name=aww_21_rest_set
                                value=yes
                            [/set_variable]
                            [set_variable]
                                name=aww_21_rest_real
                                to_variable=aww_21_rest
                            [/set_variable]
                            [print]
                                text=_"Rest healing"+" → "+_"Set to"+": $aww_21_rest_real"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Reset to default"+"</i>"
                        [command]
                            [lua]
                                code=<<
									wesnoth.game_config.rest_heal_amount = 2
								>>
                            [/lua]
                            [set_variable]
                                name=aww_21_rest_set
                                value=no
                            [/set_variable]
                            [set_variable]
                                name=aww_21_rest_real
                                value=2
                            [/set_variable]
                            [print]
                                text=_"Rest healing"+" → "+_"Set to"+": $aww_21_rest_real "+"("+_"Default"+")"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=icons/profiles/terrain_defense.png
            label= _"Change value of Recall cost"
            [command]
                [message]
                    speaker=narrator
                    message="<b>"+_"Recall cost"+" → "+"</b>"+_"Change the value of base recall cost."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{RECALL}</span></b>

"+_"Set value of Recall cost."
                    image="misc/aww-tools-icon.png"
                    [text_input]
                        label=_"Max"+" 999"
                        variable=aww_21_recall
                        max_length=3
                        text=$aww_21_recall_real
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [lua]
                                code=<<
									wesnoth.game_config.recall_cost = wml.variables["aww_21_recall"]
								>>
                            [/lua]
                            [set_variable]
                                name=aww_21_recall_set
                                value=yes
                            [/set_variable]
                            [set_variable]
                                name=aww_21_recall_real
                                to_variable=aww_21_recall
                            [/set_variable]
                            [print]
                                text=_"Recall cost"+" → "+_"Set to"+": $aww_21_recall_real"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Reset to default"+"</i>"
                        [command]
                            [lua]
                                code=<<
									wesnoth.game_config.recall_cost = 20
								>>
                            [/lua]
                            [set_variable]
                                name=aww_21_recall_set
                                value=no
                            [/set_variable]
                            [set_variable]
                                name=aww_21_recall_real
                                value=20
                            [/set_variable]
                            [print]
                                text=_"Recall cost"+" → "+_"Set to"+": $aww_21_recall_real "+"("+_"Default"+")"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-experience.png
            label= _"Change value of Experience modifier"
            [command]
                [message]
                    speaker=narrator
                    message="<b>"+_"Experience modifier"+" → "+"</b>"+_"Set the base max experience of all the units to a positive or negative percentage (in %), to increase or decrease experience needed to level up. This can be changed at any moment and all units will be readjusted, even units in recall list. The effect will be accumulated with <b>experience_modifier</b> key of the scenario or campaign, or any other configuration."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>$aww_21_experience_modifier</span></b>

"+_"Set value of Experience modifier."
                    image="misc/aww-tools-icon.png"
                    [text_input]
                        label=_"Min"+" -99 / "+_"Max"+" 999 (%)"
                        variable=aww_21_experience_modifier
                        max_length=3
                        text=$aww_21_experience_modifier
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [fire_event]
                                name=aww_21_experience_modifier
                            [/fire_event]
                            [print]
                                text=_"Experience modifier"+" → "+_"Set to"+": $aww_21_experience_modifier%"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Reset to default"+"</i>"
                        [command]
                            [fire_event]
                                name=aww_21_experience_reset
                            [/fire_event]
                            [set_variable]
                                name=aww_21_experience_modifier
                                value=0
                            [/set_variable]
                            [print]
                                text=_"Experience modifier"+" → "+_"Deactivated"
                                size=24
                                duration=5000
                                color=255,0,0
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image="icons/profiles/melee_attack.png"
            label= _"Change value of Combat experience"
            [command]
                [message]
                    speaker=narrator
                    message="<b>"+_"Combat experience"+" → "+"</b>"+_"Change the amount of experience that is gained by fighting another unit. Amount of experience is <b>value*unit level</b>."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{COMBAT}</span></b>

"+_"Set value of Combat experience."
                    image=misc/aww-tools-icon.png
                    [text_input]
                        label=_"Max"+" 99"
                        variable=aww_21_combat
                        max_length=2
                        text=$aww_21_combat_real
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [lua]
                                code=<<
									wesnoth.game_config.combat_experience = wml.variables["aww_21_combat"]
								>>
                            [/lua]
                            [set_variable]
                                name=aww_21_combat_set
                                value=yes
                            [/set_variable]
                            [set_variable]
                                name=aww_21_combat_real
                                to_variable=aww_21_combat
                            [/set_variable]
                            [print]
                                text=_"Combat experience"+" → "+_"Set to"+": $aww_21_combat_real"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Reset to default"+"</i>"
                        [command]
                            [lua]
                                code=<<
									wesnoth.game_config.combat_experience = 1
								>>
                            [/lua]
                            [set_variable]
                                name=aww_21_combat_set
                                value=no
                            [/set_variable]
                            [set_variable]
                                name=aww_21_combat_real
                                value=1
                            [/set_variable]
                            [print]
                                text=_"Combat experience"+" → "+_"Set to"+": $aww_21_combat_real "+"("+_"Default"+")"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image=misc/aww-kill.png
            label= _"Change value of Kill experience"
            [command]
                [message]
                    speaker=narrator
                    message="<b>"+_"Kill experience"+" → "+"</b>"+_"Change the amount of experience that is gained by killing another unit. Amount of experience is <b>value*unit level</b> (<b>value/2</b> killing level 0 units)."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{KILLING}</span></b>

"+_"Set value of Kill experience."
                    image="misc/aww-tools-icon.png"
                    [text_input]
                        label=_"Max"+" 99"
                        variable=aww_21_kill
                        max_length=2
                        text=$aww_21_kill_real
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [lua]
                                code=<<
									wesnoth.game_config.kill_experience = wml.variables["aww_21_kill"]
								>>
                            [/lua]
                            [set_variable]
                                name=aww_21_kill_set
                                value=yes
                            [/set_variable]
                            [set_variable]
                                name=aww_21_kill_real
                                to_variable=aww_21_kill
                            [/set_variable]
                            [print]
                                text=_"Kill experience"+" → "+_"Set to"+": $aww_21_kill_real"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Reset to default"+"</i>"
                        [command]
                            [lua]
                                code=<<
									wesnoth.game_config.kill_experience = 8
								>>
                            [/lua]
                            [set_variable]
                                name=aww_21_kill_set
                                value=no
                            [/set_variable]
                            [set_variable]
                                name=aww_21_kill_real
                                value=8
                            [/set_variable]
                            [print]
                                text=_"Kill experience"+" → "+_"Set to"+": $aww_21_kill_real "+"("+_"Default"+")"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image="misc/aww-income.png"
            label= _"Change value of Base income"
            [command]
                [message]
                    speaker=narrator
                    message="<b>"+_"Base income"+" → "+"</b>"+_"Change the base amount of gold that is gained every turn."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{BASE}</span></b>

"+_"Set value of Base income."
                    image="misc/aww-tools-icon.png"
                    [text_input]
                        label=_"Max"+" 999"
                        variable=aww_21_base_income
                        max_length=3
                        text=$aww_21_base_income_real
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [lua]
                                code=<<
									wesnoth.game_config.base_income = wml.variables["aww_21_base_income"]
								>>
                            [/lua]
                            [set_variable]
                                name=aww_21_base_income_set
                                value=yes
                            [/set_variable]
                            [set_variable]
                                name=aww_21_base_income_real
                                to_variable=aww_21_base_income
                            [/set_variable]
                            [print]
                                text=_"Base income"+" → "+_"Set to"+": $aww_21_base_income_real"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Reset to default"+"</i>"
                        [command]
                            [lua]
                                code=<<
									wesnoth.game_config.base_income = 2
								>>
                            [/lua]
                            [set_variable]
                                name=aww_21_base_income_set
                                value=no
                            [/set_variable]
                            [set_variable]
                                name=aww_21_base_income_real
                                value=2
                            [/set_variable]
                            [print]
                                text=_"Base income"+" → "+_"Set to"+": $aww_21_base_income_real "+"("+_"Default"+")"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image="misc/aww-villageincome.png"
            label= _"Change value of Village income"
            [command]
                [message]
                    speaker=narrator
                    message="<b>"+_"Village income"+" → "+"</b>"+_"Change the amount of gold that is gained by each village."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{INCOME}</span></b>

"+_"Set value of Village income. Only takes effect on next scenario."
                    image="misc/aww-tools-icon.png"
                    [text_input]
                        label=_"Max"+" 999"
                        variable=aww_21_village_income
                        max_length=3
                        text=$aww_21_village_income_real
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [lua]
                                code=<<
									wesnoth.game_config.village_income = wml.variables["aww_21_village_income"]
								>>
                            [/lua]
                            [set_variable]
                                name=aww_21_village_income_set
                                value=yes
                            [/set_variable]
                            [set_variable]
                                name=aww_21_village_income_real
                                to_variable=aww_21_village_income
                            [/set_variable]
                            [print]
                                text=_"Village income"+" → "+_"Set to"+": $aww_21_village_income_real"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Reset to default"+"</i>"
                        [command]
                            [lua]
                                code=<<
									wesnoth.game_config.village_income = 1
								>>
                            [/lua]
                            [set_variable]
                                name=aww_21_village_income_set
                                value=no
                            [/set_variable]
                            [set_variable]
                                name=aww_21_village_income_real
                                value=1
                            [/set_variable]
                            [print]
                                text=_"Village income"+" → "+_"Set to"+": $aww_21_village_income_real "+"("+_"Default"+")"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        [option]
            image="misc/aww-villagesupport.png"
            label= _"Change value of Village support"
            [command]
                [message]
                    speaker=narrator
                    message="<b>"+_"Village support"+" → "+"</b>"+_"Change the amount of level that is mantained by each village."+"
<b><span color='#00E600'>"+_"Set to"+": "+"</span><span color='#00FFFF'>{SUPPORT}</span></b>

"+_"Set value of Village support. Only takes effect on next scenario."
                    image="misc/aww-tools-icon.png"
                    [text_input]
                        label=_"Max"+" 999"
                        variable=aww_21_village_support
                        max_length=3
                        text=$aww_21_village_support_real
                    [/text_input]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Set"+"</i>"
                        [command]
                            [lua]
                                code=<<
									wesnoth.game_config.village_support = wml.variables["aww_21_village_support"]
								>>
                            [/lua]
                            [set_variable]
                                name=aww_21_village_support_set
                                value=yes
                            [/set_variable]
                            [set_variable]
                                name=aww_21_village_support_real
                                to_variable=aww_21_village_support
                            [/set_variable]
                            [print]
                                text=_"Village support"+" → "+_"Set to"+": $aww_21_village_support_real"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    [option]
                        image=misc/aww-arrow.png
                        label="<i>"+_"Reset to default"+"</i>"
                        [command]
                            [lua]
                                code=<<
									wesnoth.game_config.village_support = 1
								>>
                            [/lua]
                            [set_variable]
                                name=aww_21_village_support_set
                                value=no
                            [/set_variable]
                            [set_variable]
                                name=aww_21_village_support_real
                                value=1
                            [/set_variable]
                            [print]
                                text=_"Village support"+" → "+_"Set to"+": $aww_21_village_support_real "+"("+_"Default"+")"
                                size=24
                                duration=5000
                                color=0,255,255
                            [/print]
                        [/command]
                    [/option]
                    {BACK_AND_EXIT}
                [/message]
            [/command]
        [/option]
        {BACK_AND_EXIT}
    [/message]
    {CLEAR_VARIABLE side_color}
#enddef

#define AWW_LOTI
    [message]
        speaker=narrator
        side_for=$side_number
        image="misc/loti-big.png"
        message="<b>"+_"Legend of the Invincibles : Reload items"+" → "+"</b>"+_"You can reload the items in all the units instead of unequipping and reequipping one by one, in case the effects are lost due to some feature of this or any other addon. This only applies to units in play, not in the recall list."
        [option]
            image=misc/aww-arrow.png
            label=_"Reload items"
            [command]
                [update_stats]
                    trait=geared
                    [not]
                        x,y=recall,recall
                    [/not]
                [/update_stats]
                [print]
                    text=_"Legend of the Invincibles"+" → "+_"Items reloaded"
                    size=24
                    duration=5000
                    color=0,255,255
                [/print]
            [/command]
        [/option]
        {BACK_AND_EXIT}
    [/message]
#enddef

# wmllint: markcheck on
[event]
    name=start
    [filter_condition]
        {AWW_ENABLED_HELP}
    [/filter_condition]
    [set_menu_item]
        id=aaww_help
        description=_"AWW Menu"
        synced=yes
        image=misc/aww-menu.png
        [command]
            [fire_event]
                name=aww_help_menu
            [/fire_event]
        [/command]
    [/set_menu_item]
[/event]

[event]
    name=aww_help_menu
    first_time_only=no
    [message]
        speaker=narrator
        message="<b><i>"+_"Choose the feature you want help with:"+"</i></b>"
        side_for=$side_number
        image="misc/awwicon.png"
        [option]
            image="misc/aww-norandom.png"
            label=_"No Random Combats"
            [command]
                {AWW_NO_RANDOM $aww_01_enable_randomless_combats $aww_08_randomless_damage_adjustment $aww_07_enable_verbose}
            [/command]
        [/option]
        [option]
            image="misc/aww-squad.png"
            label=_"Squad Mode"
            [command]
                {AWW_SQUAD $aww_02_squad_mode $aww_07_enable_verbose}
            [/command]
        [/option]
        [option]
            image="misc/aww-village.png"
            label=_"Villages line of sight"
            [command]
                {AWW_VILLAGES $aww_16_villages_has_sight $aww_villages_sight_distance}
            [/command]
        [/option]
        [option]
            image="misc/aww-desertion.png"
            label=_"Desertions"
            [command]
                {AWW_DESERTION $aww_19_desertions $aww_desertion_gold}
            [/command]
        [/option]
        [option]
            image="misc/aww-levelup.png"
            label=_"Level-Up"
            [command]
                {AWW_LEVELUP $aww_14_enable_levelup_notif $aww_06_enable_levelup_relative_healing}
            [/command]
        [/option]
        [option]
            image="misc/aww-level.png"
            label=_"AMLA : "+_"Increase Level Number"
            [command]
                {AWW_LEVEL $aww_15_enable_levelup_amla_inc $aww_leadership_level}
            [/command]
        [/option]
        [option]
            image="misc/aww-bonus.png"
            label=_"AMLA : Bonuses"
            [command]
                {AWW_BONUS $aww_09_enable_amla_bonus $aww_09_non_fatal_wounds $aww_09_option_amla_bonus $aww_09_bonus_exp_percentage}
            [/command]
        [/option]
        [option]
            image="misc/aww-promoted.png"
            label=_"AMLA : Promoted Leaders"
            [command]
                {AWW_PROMOTED_LEVEL $aww_03_enable_promoted_leader $aww_03_level_promoted_leader $aww_03_epic_promoted_leader}
            [/command]
        [/option]
        [option]
            image="misc/aww-epic.png"
            label=_"Epic Heroes"
            [command]
                {AWW_EPIC $aww_10_enable_gifted_leaders $aww_epic_object_opt}
            [/command]
        [/option]
        [option]
            image="misc/aww-learning.png"
            label=_"Learning"
            [command]
                {AWW_LEARNING $aww_04_passive_xp $aww_04_passive_xp_ai $aww_05_healing_xp $aww_05_healing_amount $aww_healing_xp_notif $aww_04_passive_xp_leaders $aww_04_low_level $aww_04_low_level_xp $aww_04_low_level_xp_ai}
            [/command]
        [/option]
        [option]
            image="misc/aww-recall.png"
            label=_"Recall list"
            [command]
                {AWW_RECALL $aww_recall_zero_cost $aww_recall_max_level $aww_22_enable_unrecall $aww_unrecall_gold $aww_recall_percentage}
            [/command]
        [/option]
        [option]
            image="misc/aww-berserk.png"
            label=_"Berserk tweaks"
            [command]
                {AWW_BERSERK $aww_12_enable_berserk_fix $aww_12_fury_kills $aww_12_berserk_rounds}
            [/command]
        [/option]
        [option]
            image="misc/aww-ambush.png"
            label=_"Ambush tweaks"
            [command]
                {AWW_AMBUSH $aww_13_enable_ambushed_fix $aww_ambush_cooldown $aww_ambush_cooldown_attack $aww_13_undo_mode}
            [/command]
        [/option]
        [option]
            image="misc/aww-ninja.png"
            label=_"NINJA WARS!"
            [command]
                {AWW_NINJA $aww_11_enable_ninja}
            [/command]
        [/option]
        [option]
            image="misc/aww-tools.png"
            label=_"Tools"
            [command]
                {AWW_TOOLS $aww_21_fastai $aww_21_side_number $aww_21_poison_real $aww_21_rest_real $aww_21_recall_real $aww_21_combat_real $aww_21_kill_real $aww_21_base_income_real $aww_21_village_income_real $aww_21_village_support_real $aww_20_custom_labels}
            [/command]
        [/option]
        [option]
            image="icons/profiles/marksman.png"
            label=_"Setup AI Controllers"
            [show_if]
                {VARIABLE_CONDITIONAL aww_ai_menu equals yes}
            [/show_if]
            {AWW_AI_CONTROLLER_MENU $aww_21_ai_controller $aww_ai_player $aww_ai_allies $aww_21_ai_leader_controller $aww_ai_ally $aww_ai_player_leader}
        [/option]
#ifdef LOTI_1_OR_2
        [option]
            image=misc/aww-loti-small.png
            label=_"Legend of the Invincibles : Reload items"
            [command]
                {AWW_LOTI}
            [/command]
        [/option]
#endif
        [option]
            image="misc/aww-exit.png"
            label="<b>"+_"Exit"+"</b>"
            default=yes
            [command]
            [/command]
        [/option]
    [/message]
[/event]
